(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{BknO:function(n,e,t){"use strict";t.r(e);var r=t("0Owb"),a=t("q1tI"),o=t.n(a),i=(t("B2uJ"),t("+su7"),t("qOys"),t("5Yjd")),s=t.n(i),l=o.a.memo((function(){var n=t("K+nK"),e=n(t("q1tI")),r=n(t("wl8c")),a=n(t("yl+k")),o=function(){return e["default"].createElement(r["default"],{schema:a["default"]})};return e["default"].createElement(o)})),p=o.a.memo((function(){var n=t("K+nK"),e=n(t("q1tI")),r=n(t("C2bj")),a=n(t("Q4DU")),o=function(){return e["default"].createElement(r["default"],{schema:a["default"]})};return e["default"].createElement(o)})),m=o.a.memo((function(){var n=t("K+nK"),e=n(t("q1tI")),r=n(t("C2bj")),a=n(t("mgmY")),o=function(){return e["default"].createElement(r["default"],{schema:a["default"]})};return e["default"].createElement(o)})),d=o.a.memo((function(){var n=t("K+nK"),e=n(t("q1tI")),r=n(t("C2bj")),a=n(t("Hx+y")),o=function(){return e["default"].createElement(r["default"],{schema:a["default"]})};return e["default"].createElement(o)}));e["default"]=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"markdown"},o.a.createElement("h1",{id:"\u65b0\u529f\u80fd"},o.a.createElement("a",{"aria-hidden":"true",href:"#\u65b0\u529f\u80fd"},o.a.createElement("span",{className:"icon icon-link"})),"\u65b0\u529f\u80fd")),o.a.createElement(s.a,Object(r["default"])({source:{jsx:"import React from 'react';\nimport FR from '../demo/FR2/index.jsx';\nimport json from '../demo/new-feature/test.json';\n\nexport default () => <FR schema={json} />;"}},{CSSInDependencies:["antd/dist/antd.css","rc-color-picker/dist/rc-color-picker.css"],dependencies:{antd:"4.5.2","prop-types":"15.7.2",validator:"10.11.0",color:"3.1.2",pope:"2.0.2","deep-equal":"2.0.3","rc-color-picker":"1.2.6",moment:"2.27.0","@ant-design/icons":"4.2.2","react-sortable-hoc":"1.11.0"},files:{"demo/FR2/index.jsx":{path:"../demo/FR2/index.jsx",content:"import React, { useState, useEffect } from 'react';\nimport FormRender from '../../../src/antd';\nimport { Button } from 'antd';\n// import FormRender from '../../../src/fusion';\n\nconst Demo = ({ schema = {} }) => {\n  const [formData, setFormData] = useState(() => schema.formData);\n  const [valid, setValid] = useState([]);\n  const [showValid, setShowValid] = useState(false);\n\n  // useEffect(() => {\n  //   setTimeout(() => setFormData({ number: 12 }), 500);\n  // }, []);\n\n  const onValidate = _valid => {\n    console.log('\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:', _valid);\n    setValid(_valid);\n  };\n\n  const handleSubmit = () => {\n    setShowValid(true);\n    console.log(valid, formData);\n    if (valid.length > 0) {\n      return;\n    }\n    alert(JSON.stringify(formData, null, 2));\n  };\n\n  return (\n    <div style={{ maxWidth: 800 }}>\n      <FormRender\n        {...schema}\n        formData={formData}\n        onChange={setFormData}\n        displayType=\"row\"\n        showDescIcon\n        labelWidth={120}\n        onValidate={onValidate}\n        showValidate={showValid}\n      />\n      <Button type=\"primary\" onClick={handleSubmit}>\n        \u63d0\u4ea4\n      </Button>\n    </div>\n  );\n};\n\nexport default Demo;\n"},"src/antd.js":{path:"../../../src/antd",content:"/**\n * Created by Tw93 on 2018-08-28.\n * antd \u4e3b\u9898\u5165\u53e3\u6587\u4ef6\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRender from './index';\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/lib/locale/zh_CN';\nimport { mapping, widgets } from './widgets/antd';\n// import 'antd/dist/antd.css';\n\nexport default class AntdForm extends React.PureComponent {\n  static propTypes = {\n    mapping: PropTypes.object,\n    widgets: PropTypes.object,\n  };\n  static defaultProps = {\n    mapping: {},\n    widgets: {},\n  };\n\n  render() {\n    const {\n      mapping: customizedMapping,\n      widgets: customizedWidgets,\n      configProvider = {},\n      ...props\n    } = this.props;\n    return (\n      <ConfigProvider {...configProvider} locale={zhCN}>\n        <FormRender\n          {...props}\n          mapping={{\n            ...mapping,\n            ...customizedMapping,\n          }}\n          widgets={{\n            ...widgets,\n            ...customizedWidgets,\n          }}\n        />\n      </ConfigProvider>\n    );\n  }\n}\n"},"index.js":{path:"./index",content:"import React, { useRef, useEffect, useMemo } from 'react';\nimport { usePrevious } from './hooks';\nimport PropTypes from 'prop-types';\nimport { isDeepEqual, combineSchema } from './base/utils';\nimport { asField, DefaultFieldUI } from './base/asField';\nimport parse from './base/parser';\nimport resolve from './base/resolve';\nimport { getValidateList } from './base/validate';\nimport './atom.css';\nimport './index.css';\n\nfunction renderField(settings, fields, events) {\n  const { Field, props } = parse(settings, fields);\n  if (!Field) {\n    return null;\n  }\n  return (\n    <Field\n      isRoot\n      {...props}\n      value={settings.data}\n      {...events}\n      formData={settings.formData}\n    />\n  );\n}\n\n// \u5728\u9876\u5c42\u5c06 propsSchema \u548c uiSchema \u5408\u5e76\uff0c\u4fbf\u4e8e\u540e\u7eed\u5904\u7406\u3002 \u4e5f\u53ef\u76f4\u63a5\u4f20\u5165\u5408\u5e76\u7684 schema\nconst Wrapper = ({\n  schema,\n  propsSchema = {},\n  uiSchema = {},\n  readOnly,\n  showValidate,\n  ...rest\n}) => {\n  const jsonSchema = schema || propsSchema; // \u517c\u5bb9schema\u5b57\u6bb5\u548cpropsSchema\u5b57\u6bb5\n  const _schema = combineSchema(jsonSchema, uiSchema);\n\n  return (\n    <FormRender\n      readOnly={readOnly}\n      showValidate={!readOnly && showValidate} // \u9884\u89c8\u6a21\u5f0f\u4e0b\u4e0d\u5c55\u793a\u6821\u9a8c\n      {...rest}\n      schema={_schema}\n    />\n  );\n};\n\nfunction FormRender({\n  name = '$form',\n  column = 1,\n  className,\n  schema = {},\n  formData = {},\n  widgets = {},\n  FieldUI = DefaultFieldUI,\n  fields = {},\n  mapping = {},\n  showDescIcon = false,\n  showValidate = true,\n  displayType = 'column',\n  onChange = () => {},\n  onValidate = () => {},\n  onMount,\n  readOnly = false,\n  labelWidth = 110,\n  useLogger = false,\n}) {\n  const originWidgets = useRef();\n  const generatedFields = useRef({});\n  const previousSchema = usePrevious(schema);\n  const previousData = usePrevious(formData);\n\n  const data = useMemo(() => resolve(schema, formData), [schema, formData]);\n\n  useEffect(() => {\n    if (onMount) {\n      onMount(data);\n    } else {\n      onChange(data);\n    }\n    onValidate(getValidateList(data, schema));\n  }, []);\n\n  useEffect(() => {\n    if (!isDeepEqual(previousSchema, schema)) {\n      onChange(data);\n    }\n  }, [schema]);\n\n  useEffect(() => {\n    if (!isDeepEqual(previousData, formData)) {\n      updateValidation();\n    }\n  }, [formData]);\n\n  const updateValidation = () => {\n    onValidate(getValidateList(data, schema));\n  };\n\n  const generated = {};\n  if (!originWidgets.current) {\n    originWidgets.current = widgets;\n  }\n  Object.keys(widgets).forEach(key => {\n    const oWidget = originWidgets.current[key];\n    const nWidget = widgets[key];\n    let gField = generatedFields.current[key];\n    if (!gField || oWidget !== nWidget) {\n      if (oWidget !== nWidget) {\n        originWidgets.current[key] = nWidget;\n      }\n      gField = asField({ FieldUI, Widget: nWidget });\n      generatedFields.current[key] = gField;\n    }\n    generated[key] = gField;\n  });\n\n  return (\n    <div className={`${className} fr-wrapper`}>\n      {renderField(\n        {\n          schema,\n          data,\n          name,\n          column,\n          showDescIcon,\n          showValidate,\n          displayType,\n          readOnly,\n          labelWidth,\n          useLogger,\n          formData: data,\n        },\n        {\n          // \u6839\u636e Widget \u751f\u6210\u7684 Field\n          generated,\n          // \u81ea\u5b9a\u4e49\u7684 Field\n          customized: fields,\n          // \u5b57\u6bb5 type \u4e0e widgetName \u7684\u6620\u5c04\u5173\u7cfb\n          mapping,\n        },\n        {\n          onChange(key, val) {\n            onChange(val);\n            onValidate(getValidateList(val, schema));\n          },\n        }\n      )}\n    </div>\n  );\n}\n\nFormRender.propTypes = {\n  name: PropTypes.string,\n  column: PropTypes.number,\n  schema: PropTypes.object,\n  formData: PropTypes.object,\n  widgets: PropTypes.objectOf(PropTypes.func),\n  FieldUI: PropTypes.elementType,\n  fields: PropTypes.objectOf(PropTypes.element),\n  mapping: PropTypes.object,\n  showDescIcon: PropTypes.bool,\n  showValidate: PropTypes.bool,\n  displayType: PropTypes.string,\n  onChange: PropTypes.func,\n  onMount: PropTypes.func,\n  onValidate: PropTypes.func,\n  readOnly: PropTypes.bool,\n  labelWidth: PropTypes.number,\n  useLogger: PropTypes.bool,\n};\n\nexport default Wrapper;\n"},"hooks.js":{path:"./hooks",content:"import { useRef, useEffect } from 'react';\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  return ref.current;\n}\n"},"base/utils.js":{path:"./base/utils",content:"/**\n * Created by Tw93 on 2018-09-26.\n * \u5e38\u89c1\u529f\u80fd\u51fd\u6570\n */\n\n// \u514b\u9686\u5bf9\u8c61\nexport function clone(data) {\n  try {\n    return JSON.parse(JSON.stringify(data));\n  } catch (e) {\n    return data;\n  }\n}\n\n// '3' => true, 3 => true, undefined => false\nexport function isLooselyNumber(num) {\n  if (typeof num === 'number') return true;\n  if (typeof num === 'string') {\n    return !Number.isNaN(Number(num));\n  }\n  return false;\n}\n\nexport function isCssLength(str) {\n  if (typeof str !== 'string') return false;\n  return str.match(/^([0-9])*(%|px|rem|em)$/i);\n}\n\n// \u6df1\u5ea6\u5bf9\u6bd4\nexport function isDeepEqual(param1, param2) {\n  if (param1 === undefined && param2 === undefined) return true;\n  else if (param1 === undefined || param2 === undefined) return false;\n  else if (param1.constructor !== param2.constructor) return false;\n\n  if (param1.constructor === Array) {\n    if (param1.length !== param2.length) return false;\n    for (let i = 0; i < param1.length; i++) {\n      if (param1[i].constructor === Array || param1[i].constructor === Object) {\n        if (!isDeepEqual(param1[i], param2[i])) return false;\n      } else if (param1[i] !== param2[i]) return false;\n    }\n  } else if (param1.constructor === Object) {\n    if (Object.keys(param1).length !== Object.keys(param2).length) return false;\n    for (let i = 0; i < Object.keys(param1).length; i++) {\n      const key = Object.keys(param1)[i];\n      if (\n        param1[key] &&\n        typeof param1[key] !== 'number' &&\n        (param1[key].constructor === Array ||\n          param1[key].constructor === Object)\n      ) {\n        if (!isDeepEqual(param1[key], param2[key])) return false;\n      } else if (param1[key] !== param2[key]) return false;\n    }\n  } else if (param1.constructor === String || param1.constructor === Number) {\n    return param1 === param2;\n  }\n  return true;\n}\n\n// \u65f6\u95f4\u7ec4\u4ef6\nexport function getFormat(format) {\n  let dateFormat;\n  switch (format) {\n    case 'date':\n      dateFormat = 'YYYY-MM-DD';\n      break;\n    case 'time':\n      dateFormat = 'HH:mm:ss';\n      break;\n    case 'dateTime':\n      dateFormat = 'YYYY-MM-DD HH:mm:ss';\n      break;\n    default:\n      dateFormat = 'YYYY-MM-DD';\n      if (format && typeof format === 'string') {\n        dateFormat = format;\n      }\n  }\n  return dateFormat;\n}\n\nexport function hasRepeat(list) {\n  return list.find(\n    (x, i, self) =>\n      i !== self.findIndex(y => JSON.stringify(x) === JSON.stringify(y))\n  );\n}\n\n// ----------------- schema \u76f8\u5173\n\n// \u5408\u5e76propsSchema\u548cUISchema\u3002\u7531\u4e8e\u4e24\u8005\u7684\u903b\u8f91\u76f8\u5173\u6027\uff0c\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927schema\u80fd\u7b80\u5316\u5185\u90e8\u5904\u7406\nexport function combineSchema(propsSchema, uiSchema) {\n  const propList = getChildren(propsSchema);\n  const newList = propList.map(p => {\n    const { name } = p;\n    const { type, enum: options, properties, items } = p.schema;\n    const isObj = type === 'object' && properties;\n    const isArr = type === 'array' && items && !options; // enum + array \u4ee3\u8868\u7684\u591a\u9009\u6846\uff0c\u6ca1\u6709sub\n    const ui = name && uiSchema[p.name];\n    if (!ui) {\n      return p;\n    }\n    // \u5982\u679c\u662flist\uff0c\u9012\u5f52\u5408\u5e76items\n    if (isArr) {\n      const newItems = combineSchema(items, ui.items || {});\n      return { ...p, schema: { ...p.schema, ...ui, items: newItems } };\n    }\n    // object\u9012\u5f52\u5408\u5e76\u6574\u4e2aschema\n    if (isObj) {\n      const newSchema = combineSchema(p.schema, ui);\n      return { ...p, schema: newSchema };\n    }\n    return { ...p, schema: { ...p.schema, ...ui } };\n  });\n\n  const newObj = {};\n  newList.forEach(s => {\n    newObj[s.name] = s.schema;\n  });\n\n  const topLevelUi = {};\n  Object.keys(uiSchema).forEach(key => {\n    if (typeof key === 'string' && key.substring(0, 3) === 'ui:') {\n      topLevelUi[key] = uiSchema[key];\n    }\n  });\n  if (isEmpty(newObj)) {\n    return { ...propsSchema, ...topLevelUi };\n  }\n  return { ...propsSchema, ...topLevelUi, properties: newObj };\n}\n\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n\n// \u83b7\u5f97propsSchema\u7684children\nfunction getChildren(schema) {\n  const {\n    // object\n    properties,\n    // array\n    items,\n    type,\n  } = schema;\n  if (!properties && !items) {\n    return [];\n  }\n  let schemaSubs = {};\n  if (type === 'object') {\n    schemaSubs = properties;\n  }\n  if (type === 'array') {\n    schemaSubs = items;\n  }\n  return Object.keys(schemaSubs).map(name => ({\n    schema: schemaSubs[name],\n    name,\n  }));\n}\n\n// \u5408\u5e76\u591a\u4e2aschema\u6811\uff0c\u6bd4\u5982\u4e00\u4e2aschema\u7684\u6811\u8282\u70b9\u662f\u53e6\u4e00\u4e2aschema\nexport function combine() {}\n\nexport const isValidVariableName = param => /^[a-zA-Z]+$/g.test(param);\n\n// Remove all window valid api\n// For safety jest-* variable will throw error\nexport function safeEval(code) {\n  let safeContextStr = '';\n  if (typeof window !== 'undefined') {\n    const windowContextAttr = Object.getOwnPropertyNames(window).filter(\n      isValidVariableName\n    );\n    for (let i = 0, len = windowContextAttr.length; i < len; i++) {\n      safeContextStr += `var ${windowContextAttr[i]} = undefined;`;\n    }\n  }\n  return Function(`${safeContextStr} \"use strict\";  ${code}`)();\n}\n// \u4ee3\u66ffeval\u7684\u51fd\u6570\nexport const parseString = string => safeEval(`return (${string})`);\n\n// \u89e3\u6790\u51fd\u6570\u5b57\u7b26\u4e32\u503c\nexport const evaluateString = (string, formData, rootValue) =>\n  safeEval(`\n  const rootValue =${JSON.stringify(rootValue)};\n  const formData = ${JSON.stringify(formData)};\n  return (${string})\n  `);\n\n// \u5224\u65adschema\u7684\u503c\u662f\u662f\u5426\u662f\u201c\u51fd\u6570\u201d\n// JSON\u65e0\u6cd5\u4f7f\u7528\u51fd\u6570\u503c\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u4f7f\u7528\"{{...}}\"\u6765\u6807\u8bb0\u4e3a\u51fd\u6570\uff0c\u4e5f\u53ef\u4f7f\u7528@\u6807\u8bb0\uff0c\u4e0d\u63a8\u8350\u3002\nexport function isFunction(func) {\n  if (typeof func === 'function') {\n    return true;\n  }\n  if (typeof func === 'string' && func.substring(0, 1) === '@') {\n    return func.substring(1);\n  }\n  if (\n    typeof func === 'string' &&\n    func.substring(0, 2) === '{{' &&\n    func.substring(func.length - 2, func.length) === '}}'\n  ) {\n    return func.substring(2, func.length - 2);\n  }\n  return false;\n}\n\n// \u5224\u65adschema\u4e2d\u662f\u5426\u6709\u5c5e\u6027\u503c\u662f\u51fd\u6570\u8868\u8fbe\u5f0f\nexport function isFunctionSchema(schema) {\n  return Object.keys(schema).some(key => {\n    if (typeof schema[key] === 'function') {\n      return true;\n    } else if (typeof schema[key] === 'string') {\n      return isFunction(schema[key]);\n    } else if (typeof schema[key] === 'object') {\n      return isFunctionSchema(schema[key]);\n    } else {\n      return false;\n    }\n  });\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nexport const isObj = a =>\n  stringContains(Object.prototype.toString.call(a), 'Object');\n"},"base/asField.jsx":{path:"./base/asField",content:"import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getValidateText } from './validate';\nimport isDeepEqual from 'deep-equal';\nimport { usePrevious } from '../hooks';\nimport { isHidden, isDependShow } from './isHidden';\nimport {\n  evaluateString,\n  isLooselyNumber,\n  isCssLength,\n  isFunction,\n} from './utils';\n\n// asField\u62c6\u5206\u6210\u903b\u8f91\u7ec4\u4ef6\u548c\u5c55\u793a\u7ec4\u4ef6\uff0c\u4ece\u800c\u53ef\u66ff\u6362\u5c55\u793a\u7ec4\u4ef6\u7684\u65b9\u5f0f\u5b8c\u5168\u63d2\u62d4fr\u7684\u6837\u5f0f\nexport const asField = ({ FieldUI, Widget }) => {\n  let FieldContainer = ({\n    className,\n    column,\n    showValidate,\n    isRoot,\n    hidden,\n    props,\n    showDescIcon,\n    width,\n    labelWidth,\n    disabled,\n    readonly,\n    options,\n    schema,\n    ...rest\n  }) => {\n    const firstRender = useRef(true);\n    const fieldTouched = useRef(false);\n    const {\n      displayType,\n      rootValue = {},\n      formData = {},\n      dependShow,\n      value: _value,\n    } = rest;\n    const prevValue = usePrevious(_value);\n    // most key of schema, disabled, readonly, options, hidden, support for function expression\n    const convertValue = item => {\n      if (typeof item === 'function') {\n        return item(formData, rootValue);\n      } else if (typeof item === 'string' && isFunction(item) !== false) {\n        const _item = isFunction(item);\n        try {\n          return evaluateString(_item, formData, rootValue);\n        } catch (error) {\n          console.error(error.message);\n          console.error(`happen at ${item}`);\n          return item;\n        }\n      }\n      return item;\n    };\n\n    hidden = convertValue(hidden);\n    disabled = convertValue(disabled);\n    readonly = convertValue(readonly);\n    options = convertValue(options);\n    // iterate over schema, and convert every key\n    let _schema = { ...schema };\n    Object.keys(schema).forEach(key => {\n      const availableKey = [\n        'title',\n        'description',\n        'format',\n        'pattern',\n        'message',\n        'min',\n        'max',\n        'step',\n        'enum',\n        'enumNames',\n      ];\n      // TODO: need to cover more\n      if (availableKey.indexOf(key) > -1) {\n        _schema[key] = convertValue(schema[key]);\n      }\n    });\n\n    // \"ui:hidden\": true, hide formItem\n    // after \"convertValue\" being stable, this api will be discarded\n    if (hidden && isHidden({ hidden, rootValue, formData })) {\n      return null;\n    }\n\n    // \u4f20\u5165\u7ec4\u4ef6\u7684\u503c\n    const _rest = {\n      ...rest,\n      schema: _schema,\n      disabled,\n      readonly,\n      options,\n      formData: formData || {},\n      rootValue: rootValue || {},\n    };\n\n    // \u4e0d\u5efa\u8bae\u4f7f\u7528ui:dependShow, \u4e00\u822c\u4e00\u5f8b\u4f7f\u7528ui:hidden\u3002ui:dependShow\u53ef\u4ee5\u505a\u590d\u6742\u3001\u8de8\u7ed3\u6784\u7684\u6821\u9a8c\n    if (isDependShow({ formData, dependShow })) {\n      return null;\n    }\n\n    let isComplex =\n      _schema.type === 'object' ||\n      (_schema.type === 'array' && _schema.enum === undefined);\n    const isModal = options && (options.modal || options.drawer);\n    if (isModal) {\n      isComplex = false;\n    }\n\n    const validateText =\n      showValidate || fieldTouched.current ? getValidateText(_rest) : '';\n    // \u5fc5\u586b*\uff0clabel\uff0c\u63cf\u8ff0\uff0c\u7ad6\u6392\u65f6\u7684\u6821\u9a8c\u8bed\uff0c\u53ea\u8981\u5b58\u5728\u4e00\u4e2a\uff0clabel\u5c31\u4e0d\u4e3a\u7a7a\n    const showLabel =\n      _schema.title ||\n      rest.description ||\n      rest.required ||\n      (displayType !== 'row' && validateText);\n\n    let columnStyle = {};\n    if (!isComplex && width) {\n      columnStyle = {\n        width,\n        paddingRight: '12px',\n      };\n    } else if (!isComplex && column > 1) {\n      columnStyle = {\n        width: `calc(100% /${column})`,\n        paddingRight: '12px',\n      };\n    }\n\n    const fieldProps = {\n      className,\n      columnStyle,\n      displayType,\n      isComplex,\n      isRequired: rest.required,\n      isRoot,\n      schema: _schema,\n      showDescIcon,\n      showLabel,\n      showValidate,\n      validateText,\n      labelWidth,\n    };\n\n    useEffect(() => {\n      // \u9996\u6b21\u6e32\u67d3\u4e0d\u505a\n      if (firstRender.current) {\n        firstRender.current = false;\n        return;\n      }\n      // \u4e4b\u540e\u6bcf\u6b21\u6539\u52a8\u5c31\u7b97touch\u4e86\n      if (isDeepEqual(prevValue, rest.value)) {\n      } else {\n        fieldTouched.current = true;\n      }\n    }, [rest.value]);\n\n    return (\n      <FieldUI {...fieldProps}>\n        <Widget {..._rest} invalid={validateText} />\n      </FieldUI>\n    );\n  };\n  FieldContainer.propTypes = {\n    showValidate: PropTypes.bool,\n    column: PropTypes.number,\n    isRoot: PropTypes.bool,\n    props: PropTypes.object,\n    showDescIcon: PropTypes.bool,\n    displayType: PropTypes.string,\n  };\n\n  FieldContainer.defaultProps = {\n    showValidate: true,\n    column: 1,\n    isRoot: false,\n    props: {},\n    showDescIcon: false,\n    displayType: 'column',\n  };\n\n  return FieldContainer;\n};\n\nexport const DefaultFieldUI = ({\n  children,\n  className,\n  columnStyle, // \u5904\u7406\u7ec4\u4ef6\u5bbd\u5ea6\uff0c\u5916\u90e8\u4e00\u822c\u4e0d\u9700\u4fee\u6539\n  displayType, // \u5c55\u793a\u65b9\u5f0f\uff1arow \u6a2a column \u7ad6\n  isComplex, // \u662f\u5426\u662f\u590d\u6742\u7ed3\u6784\uff1a\u5bf9\u8c61\u548c\u5bf9\u8c61\u6570\u7ec4\n  isRequired, // \u662f\u5426\u662f\u5fc5\u586b\u9879\n  isRoot,\n  schema,\n  showDescIcon,\n  showLabel, // \u662f\u5426\u5c55\u793alabel\n  showValidate, // \u662f\u5426\u5c55\u793a\u6821\u9a8c\n  validateText, // \u6821\u9a8c\u6587\u5b57\n  labelWidth, // label\u7684\u957f\u5ea6\n}) => {\n  // field \u6574\u4f53 label \u6807\u7b7e content \u5185\u5bb9\n  const {\n    title,\n    type,\n    enum: _enum,\n    description = '',\n    'ui:widget': widget,\n    'ui:options': options,\n  } = schema;\n  const isCheckbox = type === 'boolean' && widget !== 'switch';\n  const isModal = options && (options.modal || options.drawer);\n  let fieldClass = `fr-field w-100 ${isComplex ? 'fr-field-complex' : ''}`;\n  let labelClass = 'fr-label mb2';\n  let contentClass = 'fr-content';\n  switch (type) {\n    case 'object':\n      if (isModal) {\n        break;\n      }\n      if (title) {\n        labelClass += ' fr-label-object bb b--black-20 pb1 mt2 mb3'; // fr-label-object \u65e0\u9ed8\u8ba4style\uff0c\u53ea\u662f\u5360\u4f4d\u7528\u4e8e\u4f7f\u7528\u8005\u6837\u5f0f\u8986\u76d6\n      }\n      if (!isRoot) {\n        fieldClass += ' fr-field-object'; // object\u7684margin bottom\u7531\u5185\u90e8\u5143\u7d20\u6491\u8d77\n        if (title) {\n          contentClass += ' ml3'; // \u7f29\u8fdb\n        }\n      }\n      break;\n    case 'array':\n      if (isModal) {\n        break;\n      }\n      if (title && !_enum) {\n        labelClass += ' fr-label-array mt2 mb3';\n      }\n      break;\n    case 'boolean':\n      if (isCheckbox) {\n        if (title) {\n          labelClass += ' ml2';\n          labelClass = labelClass.replace('mb2', 'mb0');\n        }\n        contentClass += ' flex items-center'; // checkbox\u9ad8\u5ea6\u77ed\uff0c\u9700\u8981\u5c45\u4e2d\u5bf9\u9f50\n        fieldClass += ' flex items-center flex-row-reverse justify-end';\n      }\n      break;\n    default:\n      if (displayType === 'row') {\n        labelClass = labelClass.replace('mb2', 'mb0');\n      }\n  }\n  // \u6a2a\u6392\u65f6\n  if (displayType === 'row' && !isComplex && !isCheckbox) {\n    fieldClass += ' flex items-center';\n    labelClass += ' flex-shrink-0 fr-label-row';\n    labelClass = labelClass.replace('mb2', 'mb0');\n    contentClass += ' flex-grow-1 relative';\n  }\n\n  // \u6a2a\u6392\u7684checkbox\n  if (displayType === 'row' && isCheckbox) {\n    contentClass += ' flex justify-end pr2';\n  }\n\n  const _labelWidth = isLooselyNumber(labelWidth)\n    ? Number(labelWidth)\n    : isCssLength(labelWidth)\n    ? labelWidth\n    : 110; // \u9ed8\u8ba4\u662f 110px \u7684\u957f\u5ea6\n  let labelStyle = { width: _labelWidth };\n  if (isCheckbox) {\n    labelStyle = { flexGrow: 1 };\n  } else if (isComplex || displayType === 'column') {\n    labelStyle = { flexGrow: 1 };\n  }\n\n  return (\n    <div\n      className={className ? `${className} ${fieldClass}` : fieldClass}\n      style={columnStyle}\n    >\n      {showLabel && (\n        <div className={labelClass} style={labelStyle}>\n          <label\n            className={`fr-label-title ${\n              isCheckbox || displayType === 'column' ? 'no-colon' : ''\n            }`} // boolean\u4e0d\u5e26\u5192\u53f7\n            title={title}\n          >\n            {isRequired && <span className=\"fr-label-required\"> *</span>}\n            <span\n              className={`${isComplex ? 'b' : ''} ${\n                displayType === 'column' ? 'flex-none' : ''\n              }`}\n            >\n              {title}\n            </span>\n            {description &&\n              (showDescIcon ? (\n                <span className=\"fr-tooltip-toggle\" aria-label={description}>\n                  <i className=\"fr-tooltip-icon\" />\n                  <div className=\"fr-tooltip-container\">\n                    <i className=\"fr-tooltip-triangle\" />\n                    {description}\n                  </div>\n                </span>\n              ) : (\n                <span className=\"fr-desc ml2\">(&nbsp;{description}&nbsp;)</span>\n              ))}\n            {displayType !== 'row' && validateText && (\n              <span className=\"fr-validate\">{validateText}</span>\n            )}\n          </label>\n        </div>\n      )}\n      <div\n        className={contentClass}\n        style={\n          isCheckbox\n            ? displayType === 'row'\n              ? { marginLeft: _labelWidth }\n              : {}\n            : { flexGrow: 1 }\n        }\n      >\n        <div className={`flex ${isComplex ? 'flex-column' : 'items-center'}`}>\n          {children}\n        </div>\n        <span\n          className={`fr-validate fr-validate-row ${\n            isComplex ? 'relative' : 'absolute'\n          }`}\n        >\n          {displayType === 'row' && validateText ? validateText : ''}\n        </span>\n      </div>\n    </div>\n  );\n};\n"},"validate.js":{path:"./validate",content:"/**\n * Created by Tw93 on 2018-09-04.\n * \u6821\u9a8c\u8868\u5355\u683c\u5f0f\n */\n\nimport isLength from 'validator/lib/isLength';\nimport Color from 'color';\nimport { isHidden } from './isHidden';\nimport { hasRepeat, isFunction } from './utils';\n\nconst isEmptyObject = obj =>\n  Object.keys(obj).length === 0 && obj.constructor === Object;\n\n// \u503c\u662f\u662f\u5426\u4e3a\u7a7a\nconst isEmptyValue = (value, schema) => {\n  // \u591a\u9009\u7ec4\u4ef6\u7684\u503c\u4e3a [] \u65f6\uff0c\u4e5f\u5224\u65ad\u4e3a\u7a7a\u503c\n  if (schema.type === 'array' && schema.enum) {\n    return !value || value.length === 0;\n  }\n  if (value === 0) {\n    return false;\n  }\n  return !value;\n};\n\nexport const getValidateText = (obj = {}) => {\n  const { value, defaultValue, required, schema = {} } = obj;\n\n  const {\n    type,\n    pattern,\n    message,\n    format,\n    'ui:widget': widget,\n    minLength, // string\n    maxLength, // string\n    minimum, // number\n    maximum, // number\n    minItems, // list\n    maxItems, // list\n    uniqueItems, // list\n  } = schema;\n  let finalValue = value || defaultValue;\n  // fix: number = 0 \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\n  if (type === 'number' && value === 0) {\n    finalValue = 0;\n  }\n  const needPattern = pattern && ['string', 'number'].indexOf(type) > -1;\n  // schema \u91cc\u9762\u6ca1\u6709\u5185\u5bb9\u7684\uff0c\u76f4\u63a5\u9000\u51fa\n  if (isEmptyObject(schema)) {\n    return false;\n  }\n\n  // \u6821\u9a8c\u662f\u5426\u4e3arequired\n  if (required && isEmptyValue(finalValue, schema)) {\n    return (message && message.required) || '\u4e0d\u80fd\u4e3a\u7a7a';\n  }\n  // \u5b57\u7b26\u4e32\u76f8\u5173\u6821\u9a8c\n  if (type === 'string') {\n    if (finalValue && maxLength) {\n      if (!isLength(finalValue, 0, parseInt(maxLength, 10))) {\n        return (message && message.maxLength) || `\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e ${maxLength}`;\n      }\n    }\n    if (finalValue && (minLength || minLength === 0)) {\n      if (\n        !finalValue ||\n        !isLength(finalValue, parseInt(minLength, 10), undefined)\n      ) {\n        return (message && message.minLength) || `\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e ${minLength}`;\n      }\n    }\n\n    if (format === 'color' || widget === 'color') {\n      try {\n        // if (!finalValue) return '\u8bf7\u586b\u5199\u6b63\u786e\u7684\u989c\u8272\u683c\u5f0f';\n        Color(finalValue);\n      } catch (e) {\n        return '\u8bf7\u586b\u5199\u6b63\u786e\u7684\u989c\u8272\u683c\u5f0f';\n      }\n    }\n  }\n\n  // \u6570\u5b57\u76f8\u5173\u6821\u9a8c\n  if (type === 'number') {\n    if (typeof finalValue !== 'number') {\n      return '\u8bf7\u586b\u5199\u6570\u5b57';\n    }\n    if (maximum && parseInt(finalValue, 10) > maximum) {\n      return (message && message.maximum) || `\u6570\u503c\u4e0d\u80fd\u5927\u4e8e ${maximum}`;\n    }\n    if ((minimum || minimum === 0) && parseInt(finalValue, 10) < minimum) {\n      return (message && message.minimum) || `\u6570\u503c\u4e0d\u80fd\u5c0f\u4e8e ${minimum}`;\n    }\n  }\n\n  // \u6b63\u5219\u53ea\u5bf9\u6570\u5b57\u548c\u5b57\u7b26\u4e32\u6709\u6548\u679c\n  if (finalValue && needPattern && !new RegExp(pattern).test(finalValue)) {\n    return (message && message.pattern) || '\u683c\u5f0f\u4e0d\u5339\u914d';\n  }\n\n  // \u6570\u7ec4\u9879\u76ee\u76f8\u5173\u6821\u9a8c\n  if (type === 'array') {\n    if (maxItems && finalValue && finalValue.length > maxItems) {\n      return (message && message.maxItems) || `\u7ec4\u6570\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e ${maxItems}`;\n    }\n\n    if (\n      (minItems || minItems === 0) &&\n      finalValue &&\n      finalValue.length < minItems\n    ) {\n      return (message && message.minItems) || `\u7ec4\u6570\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e ${minItems}`;\n    }\n\n    if (uniqueItems && Array.isArray(finalValue) && finalValue.length > 1) {\n      if (typeof uniqueItems === 'boolean') {\n        if (hasRepeat(finalValue)) {\n          return '\u5b58\u5728\u91cd\u590d\u5143\u7d20';\n        }\n      }\n      if (typeof uniqueItems === 'string') {\n        const nameList = finalValue.map(item => item[uniqueItems]);\n        const isRepeat = nameList.find(\n          (x, index) => nameList.indexOf(x) !== index\n        );\n        if (isRepeat) {\n          return '\u5b58\u5728\u91cd\u590d\u7684 ' + uniqueItems + ' \u503c';\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\nexport const dealTypeValidate = (key, value, schema = {}) => {\n  const checkList = [];\n  const { type, items } = schema;\n  const obj = {\n    value,\n    schema,\n  };\n  if (type === 'object') {\n    const list = getValidateList(value, schema); // eslint-disable-line\n    checkList.push(...list);\n  } else if (type === 'array') {\n    value.forEach(v => {\n      const list = dealTypeValidate(key, v, items);\n      checkList.push(...list);\n    });\n  }\n  if (getValidateText(obj)) {\n    checkList.push(key);\n  }\n  return checkList;\n};\n\n// for backward compatibility\nconst keyHidden = (schema, val) => {\n  let hidden = schema && schema['ui:hidden'];\n  if (typeof hidden === 'string' && isFunction(hidden) === false) {\n    hidden = isHidden({ hidden, rootValue: val });\n  }\n  return hidden;\n};\n\nexport const getValidateList = (val = {}, prop = {}) => {\n  const checkList = [];\n  const { properties, required } = prop;\n  // \u6821\u9a8c\u5fc5\u586b\uff08required \u5c5e\u6027\u53ea\u5728 type:object \u4e0b\u5b58\u5728\uff09\n  if (required && required.length > 0) {\n    required.forEach(key => {\n      const schema = (properties && properties[key]) || {};\n      const hidden = keyHidden(schema, val);\n      const itemValue = val && val[key];\n      if (isEmptyValue(itemValue, schema) && !hidden) {\n        checkList.push(key);\n      }\n    });\n  }\n\n  if (properties && val && Object.keys(val) && Object.keys(val).length > 0) {\n    Object.keys(val).forEach(key => {\n      const value = val[key];\n      const schema = properties[key] || {};\n      const hidden = keyHidden(schema, val);\n      if (!hidden) {\n        const list = dealTypeValidate(key, value, schema);\n        checkList.push(...list);\n      }\n    });\n  }\n\n  return checkList;\n};\n"},"isHidden.js":{path:"./isHidden",content:"/**\n * Created by Tw93 on 2019-04-28.\n * \u8868\u8fbe\u5f0f\u5224\u65ad\n */\n\nimport { pope } from 'pope';\nimport { parseString } from './utils';\n\nexport function isDependShow({ formData, dependShow } = {}) {\n  if (formData && dependShow) {\n    try {\n      return !parseString(pope(dependShow, formData)); //eslint-disable-line\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\nexport function isHidden({ hidden, rootValue, formData } = {}) {\n  // hidden \u4e3a\u8868\u8fbe\u5f0f\uff1a\n  if (typeof hidden === 'string') {\n    // \u652f\u6301 && \u548c ||\n    const hasAnd = string => string.indexOf('&&') > -1;\n    const hasOr = string => string.indexOf('||') > -1;\n    let hiddenList = [];\n    if (!hasOr(hidden)) {\n      if (!hasAnd(hidden)) {\n        return calcHidden(hidden, rootValue, formData);\n      } else {\n        hiddenList = hidden.split('&&').map(item => item.trim());\n        return hiddenList.every(item => calcHidden(item, rootValue, formData));\n      }\n    } else {\n      hiddenList = hidden.split('||').map(item => item.trim());\n      if (!hasAnd(hidden)) {\n        return hiddenList.some(item => calcHidden(item, rootValue, formData));\n      } else {\n        return hiddenList.some(item => {\n          if (hasAnd(item)) {\n            const list = item.split('&&').map(item => item.trim());\n            return list.every(x => calcHidden(x, rootValue, formData));\n          } else {\n            return calcHidden(item, rootValue, formData);\n          }\n        });\n      }\n    }\n  }\n  return hidden;\n}\n\n// data = {a: b: {c: 1}}  getExpressionValue(data, 'a.b.c')\nconst getExpressionValue = (formData, expression) => {\n  if (typeof expression !== 'string') return '';\n  const keyList = expression.split('.') || [];\n  if (keyList.length === 0) {\n    return '';\n  }\n  if (keyList.length === 1) {\n    return formData[keyList[0]];\n  }\n  return keyList.reduce((x, y) => {\n    if (x && typeof x === 'object') return x[y];\n    return '';\n  }, formData);\n};\n\n// \u8ba1\u7b97\u5355\u4e2a\u8868\u8fbe\u5f0f\u7684hidden\u503c\nconst calcHidden = (hiddenString, rootValue, formData) => {\n  if (!rootValue || typeof rootValue !== 'object') {\n    return false;\n  }\n  // \u652f\u6301\u56db\u79cd\u57fa\u672c\u8fd0\u7b97\u7b26\n  const operators = ['==', '!=', '>', '<'];\n  try {\n    const op = operators.find(op => hiddenString.indexOf(op) > -1);\n    const [key, value] = hiddenString.split(op).map(item => item.trim());\n    let left = rootValue[key];\n    // feature: \u5141\u8bb8\u4ece formData \u53d6\u503c\n    if (key.substring(0, 9) === 'formData.' && formData) {\n      const subKey = key.substring(9);\n      left = getExpressionValue(formData, subKey);\n    }\n    const right = parseString(value);\n    return parseString(`\"${String(left)}\"${op}\"${String(right)}\"`);\n  } catch (e) {\n    console.error(e);\n  }\n  return false;\n};\n"},"utils.js":{path:"./utils",content:"/**\n * Created by Tw93 on 2018-09-26.\n * \u5e38\u89c1\u529f\u80fd\u51fd\u6570\n */\n\n// \u514b\u9686\u5bf9\u8c61\nexport function clone(data) {\n  try {\n    return JSON.parse(JSON.stringify(data));\n  } catch (e) {\n    return data;\n  }\n}\n\n// '3' => true, 3 => true, undefined => false\nexport function isLooselyNumber(num) {\n  if (typeof num === 'number') return true;\n  if (typeof num === 'string') {\n    return !Number.isNaN(Number(num));\n  }\n  return false;\n}\n\nexport function isCssLength(str) {\n  if (typeof str !== 'string') return false;\n  return str.match(/^([0-9])*(%|px|rem|em)$/i);\n}\n\n// \u6df1\u5ea6\u5bf9\u6bd4\nexport function isDeepEqual(param1, param2) {\n  if (param1 === undefined && param2 === undefined) return true;\n  else if (param1 === undefined || param2 === undefined) return false;\n  else if (param1.constructor !== param2.constructor) return false;\n\n  if (param1.constructor === Array) {\n    if (param1.length !== param2.length) return false;\n    for (let i = 0; i < param1.length; i++) {\n      if (param1[i].constructor === Array || param1[i].constructor === Object) {\n        if (!isDeepEqual(param1[i], param2[i])) return false;\n      } else if (param1[i] !== param2[i]) return false;\n    }\n  } else if (param1.constructor === Object) {\n    if (Object.keys(param1).length !== Object.keys(param2).length) return false;\n    for (let i = 0; i < Object.keys(param1).length; i++) {\n      const key = Object.keys(param1)[i];\n      if (\n        param1[key] &&\n        typeof param1[key] !== 'number' &&\n        (param1[key].constructor === Array ||\n          param1[key].constructor === Object)\n      ) {\n        if (!isDeepEqual(param1[key], param2[key])) return false;\n      } else if (param1[key] !== param2[key]) return false;\n    }\n  } else if (param1.constructor === String || param1.constructor === Number) {\n    return param1 === param2;\n  }\n  return true;\n}\n\n// \u65f6\u95f4\u7ec4\u4ef6\nexport function getFormat(format) {\n  let dateFormat;\n  switch (format) {\n    case 'date':\n      dateFormat = 'YYYY-MM-DD';\n      break;\n    case 'time':\n      dateFormat = 'HH:mm:ss';\n      break;\n    case 'dateTime':\n      dateFormat = 'YYYY-MM-DD HH:mm:ss';\n      break;\n    default:\n      dateFormat = 'YYYY-MM-DD';\n      if (format && typeof format === 'string') {\n        dateFormat = format;\n      }\n  }\n  return dateFormat;\n}\n\nexport function hasRepeat(list) {\n  return list.find(\n    (x, i, self) =>\n      i !== self.findIndex(y => JSON.stringify(x) === JSON.stringify(y))\n  );\n}\n\n// ----------------- schema \u76f8\u5173\n\n// \u5408\u5e76propsSchema\u548cUISchema\u3002\u7531\u4e8e\u4e24\u8005\u7684\u903b\u8f91\u76f8\u5173\u6027\uff0c\u5408\u5e76\u4e3a\u4e00\u4e2a\u5927schema\u80fd\u7b80\u5316\u5185\u90e8\u5904\u7406\nexport function combineSchema(propsSchema, uiSchema) {\n  const propList = getChildren(propsSchema);\n  const newList = propList.map(p => {\n    const { name } = p;\n    const { type, enum: options, properties, items } = p.schema;\n    const isObj = type === 'object' && properties;\n    const isArr = type === 'array' && items && !options; // enum + array \u4ee3\u8868\u7684\u591a\u9009\u6846\uff0c\u6ca1\u6709sub\n    const ui = name && uiSchema[p.name];\n    if (!ui) {\n      return p;\n    }\n    // \u5982\u679c\u662flist\uff0c\u9012\u5f52\u5408\u5e76items\n    if (isArr) {\n      const newItems = combineSchema(items, ui.items || {});\n      return { ...p, schema: { ...p.schema, ...ui, items: newItems } };\n    }\n    // object\u9012\u5f52\u5408\u5e76\u6574\u4e2aschema\n    if (isObj) {\n      const newSchema = combineSchema(p.schema, ui);\n      return { ...p, schema: newSchema };\n    }\n    return { ...p, schema: { ...p.schema, ...ui } };\n  });\n\n  const newObj = {};\n  newList.forEach(s => {\n    newObj[s.name] = s.schema;\n  });\n\n  const topLevelUi = {};\n  Object.keys(uiSchema).forEach(key => {\n    if (typeof key === 'string' && key.substring(0, 3) === 'ui:') {\n      topLevelUi[key] = uiSchema[key];\n    }\n  });\n  if (isEmpty(newObj)) {\n    return { ...propsSchema, ...topLevelUi };\n  }\n  return { ...propsSchema, ...topLevelUi, properties: newObj };\n}\n\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n\n// \u83b7\u5f97propsSchema\u7684children\nfunction getChildren(schema) {\n  const {\n    // object\n    properties,\n    // array\n    items,\n    type,\n  } = schema;\n  if (!properties && !items) {\n    return [];\n  }\n  let schemaSubs = {};\n  if (type === 'object') {\n    schemaSubs = properties;\n  }\n  if (type === 'array') {\n    schemaSubs = items;\n  }\n  return Object.keys(schemaSubs).map(name => ({\n    schema: schemaSubs[name],\n    name,\n  }));\n}\n\n// \u5408\u5e76\u591a\u4e2aschema\u6811\uff0c\u6bd4\u5982\u4e00\u4e2aschema\u7684\u6811\u8282\u70b9\u662f\u53e6\u4e00\u4e2aschema\nexport function combine() {}\n\nexport const isValidVariableName = param => /^[a-zA-Z]+$/g.test(param);\n\n// Remove all window valid api\n// For safety jest-* variable will throw error\nexport function safeEval(code) {\n  let safeContextStr = '';\n  if (typeof window !== 'undefined') {\n    const windowContextAttr = Object.getOwnPropertyNames(window).filter(\n      isValidVariableName\n    );\n    for (let i = 0, len = windowContextAttr.length; i < len; i++) {\n      safeContextStr += `var ${windowContextAttr[i]} = undefined;`;\n    }\n  }\n  return Function(`${safeContextStr} \"use strict\";  ${code}`)();\n}\n// \u4ee3\u66ffeval\u7684\u51fd\u6570\nexport const parseString = string => safeEval(`return (${string})`);\n\n// \u89e3\u6790\u51fd\u6570\u5b57\u7b26\u4e32\u503c\nexport const evaluateString = (string, formData, rootValue) =>\n  safeEval(`\n  const rootValue =${JSON.stringify(rootValue)};\n  const formData = ${JSON.stringify(formData)};\n  return (${string})\n  `);\n\n// \u5224\u65adschema\u7684\u503c\u662f\u662f\u5426\u662f\u201c\u51fd\u6570\u201d\n// JSON\u65e0\u6cd5\u4f7f\u7528\u51fd\u6570\u503c\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u4f7f\u7528\"{{...}}\"\u6765\u6807\u8bb0\u4e3a\u51fd\u6570\uff0c\u4e5f\u53ef\u4f7f\u7528@\u6807\u8bb0\uff0c\u4e0d\u63a8\u8350\u3002\nexport function isFunction(func) {\n  if (typeof func === 'function') {\n    return true;\n  }\n  if (typeof func === 'string' && func.substring(0, 1) === '@') {\n    return func.substring(1);\n  }\n  if (\n    typeof func === 'string' &&\n    func.substring(0, 2) === '{{' &&\n    func.substring(func.length - 2, func.length) === '}}'\n  ) {\n    return func.substring(2, func.length - 2);\n  }\n  return false;\n}\n\n// \u5224\u65adschema\u4e2d\u662f\u5426\u6709\u5c5e\u6027\u503c\u662f\u51fd\u6570\u8868\u8fbe\u5f0f\nexport function isFunctionSchema(schema) {\n  return Object.keys(schema).some(key => {\n    if (typeof schema[key] === 'function') {\n      return true;\n    } else if (typeof schema[key] === 'string') {\n      return isFunction(schema[key]);\n    } else if (typeof schema[key] === 'object') {\n      return isFunctionSchema(schema[key]);\n    } else {\n      return false;\n    }\n  });\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nexport const isObj = a =>\n  stringContains(Object.prototype.toString.call(a), 'Object');\n"},"base/parser.js":{path:"./base/parser",content:"import getField from './getField';\nimport resolve from './resolve';\nimport subFieldGenerator from './subFieldGenerator';\n\n// \u5bf9\u4e8e\u6570\u7ec4\u6216\u5bf9\u8c61\u7c7b\u578b\uff0c\u83b7\u53d6\u5176\u5b50\u96c6schema\nfunction getSubSchemas(schema = {}) {\n  const {\n    // object subset\n    properties,\n    // array subset\n    items,\n    column,\n    // as subset's parent\n    ...$parent\n  } = schema;\n  const { type } = $parent;\n  // no subset\n  if (!properties && !items) {\n    return [];\n  }\n  let children = {};\n  if (type === 'object') {\n    children = properties;\n  }\n  if (type === 'array') {\n    children = [].concat(items);\n  }\n  return Object.keys(children).map(name => ({\n    schema: children[name],\n    name,\n    column,\n    // parent propsSchema\n    $parent,\n  }));\n}\n\nfunction getBasicProps(settings, materials) {\n  const {\n    schema,\n    name = '',\n    $parent = {},\n    column,\n    displayType,\n    showDescIcon,\n    showValidate,\n    readOnly, // \u6dfb\u52a0\u5168\u5c40\u63a7\u5236\u53ea\u8bfb\u6a21\u5f0f\n    labelWidth,\n    useLogger,\n    formData,\n    // \u7236\u4f20\u5b50\n    disabled,\n  } = settings;\n  // \u5199\u9519\u7684\u65f6\u5019\n  if (!schema) return {};\n\n  // \u76ee\u524d\u505a\u4e86\u5904\u7406\u7684`uiSchema`\u53c2\u6570\n  const {\n    'ui:className': className,\n    'ui:options': options = {},\n    'ui:hidden': hidden,\n    'ui:disabled': _disabled,\n    'ui:width': width,\n    'ui:readonly': readonly,\n    'ui:extraButtons': extraButtons = [],\n    'ui:dependShow': dependShow,\n    'ui:action': action,\n    'ui:labelWidth': _labelWidth,\n  } = schema;\n  const { required = [] } = $parent;\n  const { generated: widgets, customized: fields } = materials;\n  // \u6807\u51c6\u5316\u5c5e\u6027\u6a21\u578b\n  // \u9664\u4e86value\u548conChange\u4e3a\u52a8\u6001\u503c\u8fd9\u91cc\u4e0d\u5904\u7406\n  let basicProps = {\n    name,\n    schema,\n    column,\n    displayType,\n    showDescIcon,\n    showValidate,\n    options, // \u6240\u6709\u7279\u5b9a\u7ec4\u4ef6\u89c4\u5219\uff0caddable\u7b49\u89c4\u5219TODO\n    hidden,\n    required: required.indexOf(name) !== -1,\n    disabled: _disabled || disabled,\n    readonly: readOnly || readonly, // \u524d\u8005\u5168\u5c40\u7684\uff0c\u540e\u8005\u5355\u4e2aui\u7684\n    labelWidth: _labelWidth || labelWidth,\n    useLogger,\n    width,\n    widgets,\n    fields,\n    formData,\n  };\n  // \u5047\u5982\u6709\u8868\u8fbe\u5f0f\u6765\u51b3\u5b9a\u663e\u793a\u7684\u573a\u666f\uff0c\u624d\u4f20\u5165dependShow,formData\n  if (dependShow) {\n    basicProps = { ...basicProps, dependShow };\n  }\n  if (className) {\n    basicProps = { ...basicProps, className };\n  }\n  if (action) {\n    basicProps = { ...basicProps, action };\n  }\n  // \u5b50\u96c6\u7684\u5c5e\u6027\n  const subItems = {};\n  const subSchemas = getSubSchemas(schema);\n  subSchemas.forEach(subSchema => {\n    const { name: _name, schema: _schema = {} } = subSchema;\n    subItems[_name] = {\n      field: getField(_schema, materials),\n      props: getBasicProps(\n        {\n          ...subSchema,\n          column,\n          displayType,\n          showDescIcon,\n          showValidate,\n          readOnly,\n          labelWidth: _labelWidth || labelWidth,\n          useLogger,\n          formData,\n          disabled: _disabled || disabled,\n        },\n        materials\n      ),\n    };\n  });\n  if (['array', 'object'].indexOf(schema.type) >= 0) {\n    // \u4f20\u5165name\u548cField\uff08\u5982\u679c\u91cd\u5b9a\u4e49Field\u7684\u8bdd\uff09\u53ca\u5176\u914d\u7f6e\u4fe1\u606f\uff08\u5982onChange\u7b49\uff09\n    basicProps.getSubField = o => {\n      // getSchemaData(schema)\n      const { field, props, column: c } = subItems[o.name] || subItems[0] || {};\n      return subFieldGenerator({\n        ...field,\n        column: c,\n        props: {\n          ...props,\n          name: o.name,\n          rootValue: o.rootValue,\n        },\n      })(o);\n    };\n    if (schema.type === 'array' && schema.items) {\n      // \u5c06\u6570\u7ec4uiSchema\u914d\u7f6e\u91cc\u9762\u7684\u62bd\u79bb\u51fa\u6765\u4f7f\u7528\n      basicProps.extraButtons = extraButtons;\n      // \u6570\u7ec4\u65b0\u589e\u7684\u9ed8\u8ba4\u503c\n      if (subSchemas && subSchemas[0]) {\n        basicProps.newItem = resolve(subSchemas[0].schema);\n      }\n    }\n  }\n  return basicProps;\n}\n\n/**\n *  schema + materials --\x3e parse --\x3e Field + props\n *  schema {\n *    propsSchema,\n *    uiSchema,\n *    data,\n *    name,\n *  }\n *  materials {\n *    // \u6839\u636e Widget \u751f\u6210\u7684 Field\n *    generated,\n *    // \u81ea\u5b9a\u4e49\u7684 Field\n *    customized,\n *    // \u5b57\u6bb5 type \u4e0e widgetName \u7684\u6620\u5c04\u5173\u7cfb\n *    mapping,\n *  }\n */\nconst parse = (settings = {}, materials) => {\n  const { schema = {} } = settings;\n  return {\n    Field: getField(schema, materials).Field,\n    props: getBasicProps(settings, materials),\n  };\n};\n\nexport default parse;\n"},"getField.js":{path:"./getField",content:"function getWidgetName(schema, map) {\n  const { type, format, enum: enums, readonly } = schema;\n  const list = [];\n  if (readonly) {\n    list.push(`${type}?readonly`);\n    list.push('*?readonly');\n  }\n  if (enums) {\n    list.push(`${type}?enum`);\n    // array \u9ed8\u8ba4\u4f7f\u7528list\uff0carray?enum \u9ed8\u8ba4\u4f7f\u7528checkboxes\uff0c*?enum \u9ed8\u8ba4\u4f7f\u7528select\n    list.push('*?enum');\n  }\n  if (format) {\n    list.push(`${type}:${format}`);\n  }\n  list.push(type); // \u653e\u5728\u6700\u540e\u515c\u5e95\uff0c\u5176\u4ed6\u90fd\u4e0dmatch\u65f6\u4f7f\u7528type\u9ed8\u8ba4\u7684\u7ec4\u4ef6\n  let found = '';\n  list.some(item => {\n    found = map[item];\n    return !!found;\n  });\n  return found;\n}\n\nexport default function getField(\n  schema = {},\n  { customized, generated, mapping }\n) {\n  const { 'ui:widget': widget, 'ui:field': field } = schema;\n  // Field\u80fd\u5426\u88ab\u91cd\u5b9a\u4e49\n  let fieldCanRedefine = false;\n  let Field;\n  // ui:widget \u662f\u5b57\u7b26\u4e32\uff0c\u4ecegenerated\u4e2d\u67e5\uff0c\u4e0d\u662f\u7684\u8bdd\uff0c\u5c31\u662f\u672c\u8eab\n  const _widget = typeof widget === 'string' ? generated[widget] : widget;\n  if (field && !Field) {\n    Field = typeof field === 'string' ? customized[field] : field;\n  }\n  if (!Field && _widget) {\n    Field = _widget;\n  }\n  if (!Field && !_widget) {\n    Field = generated[getWidgetName(schema, mapping)];\n    fieldCanRedefine = !!Field;\n  }\n  return {\n    fieldCanRedefine,\n    Field: Field || null,\n  };\n}\n"},"resolve.js":{path:"./resolve",content:"import { clone, isFunction } from './utils';\n\n// \u83b7\u53d6\u5f53\u524d\u5b57\u6bb5\u9ed8\u8ba4\u503c\nfunction getDefaultValue({ default: def, enum: enums = [], type }) {\n  const defaultValue = {\n    array: [],\n    boolean: false,\n    integer: '',\n    null: null,\n    number: '',\n    object: {},\n    string: '',\n    range: null,\n  };\n\n  if (isFunction(def)) {\n    return defaultValue[type];\n  }\n  if (isFunction(enums)) {\n    if (type === 'array') {\n      return [];\n    }\n    if (type === 'string' || type === 'number') {\n      return '';\n    }\n  }\n\n  // \u5982\u679c\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u4f18\u5148\u4ece\u9ed8\u8ba4\u503c\u4e2d\u83b7\u53d6\n  if (typeof def !== 'undefined') {\n    return def;\n  }\n  // array\u4e14enum\u7684\u60c5\u51b5\uff0c\u4e3a\u591a\u9009\u6846\uff0c\u9ed8\u8ba4\u503c[]\n  if (type === 'array' && enums.length) {\n    return [];\n  }\n  // \u5982\u679cenum\u662f\u8868\u8fbe\u5f0f\uff0c\u4e0d\u5904\u7406\n  // \u5982\u679c\u8bbe\u7f6e\u679a\u4e3e\u503c\uff0c\u5176\u6b21\u4ece\u679a\u4e3e\u503c\u4e2d\u83b7\u53d6\n  if (Array.isArray(enums) && enums[0] && typeof enums[0] !== 'undefined') {\n    return enums[0];\n  }\n  // \u6700\u540e\u4f7f\u7528\u5bf9\u5e94\u57fa\u7840\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\n  return defaultValue[type];\n}\n\nfunction resolve(schema, data, options = {}) {\n  const {\n    // \u7c7b\u578b\n    type,\n    // \u5bf9\u8c61\u5b50\u96c6\n    properties,\n    // \u6570\u7ec4\u5b50\u96c6\n    items,\n    // \u5fc5\u9009\u503c\uff0c\u5bf9\u8c61\u7684\u5b50\u96c6\n    default: def,\n    required = [],\n    'ui:widget': widget,\n  } = schema;\n  const {\n    // \u6309\u7167required\u89c4\u5219\u505a\u6570\u636e\u8865\u5168\n    checkRequired = false,\n  } = options;\n\n  const value =\n    typeof data === 'undefined' ? getDefaultValue(schema) : clone(data);\n\n  if (type === 'object') {\n    // \u5982\u679c\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n    if (widget) {\n      if (def && typeof def === 'object') {\n        return def;\n      }\n      return value;\n    }\n    const subs = properties || {};\n    const ret = {};\n    Object.keys(subs).forEach(name => {\n      const checkAndPass =\n        checkRequired && [].concat(required).indexOf(name) !== -1;\n      if (!checkRequired || checkAndPass) {\n        ret[name] = resolve(subs[name], value[name], options);\n      }\n    });\n    return ret;\n  }\n  if (type === 'array') {\n    // \u5982\u679c\u6ca1\u6709value\u4e14default\u6709\u503c\uff0c\u7528default\n    if (def && Array.isArray(def) && !value) {\n      return def;\n    }\n    // \u5982\u679c\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n    if (widget) return value;\n\n    const subs = [].concat(items || []);\n    const ret = [];\n    value.forEach &&\n      value.forEach((item, idx) => {\n        ret[idx] = resolve(subs[idx] || subs[0], item, options);\n      });\n    return ret;\n  }\n  return value;\n}\n\nexport default resolve;\n"},"subFieldGenerator.jsx":{path:"./subFieldGenerator",content:"import React from 'react';\n\nconst subFieldGenerator = ({\n  fieldCanRedefine: can,\n  Field: SourceField = null,\n  props = {},\n}) => args => {\n  const { name, Field: RedefineField = null, ...others } = args;\n  const Field = (can && RedefineField) || SourceField;\n  if (Field) {\n    return <Field {...props} name={name} {...others} key={name} />;\n  }\n  return null;\n};\n\nexport default subFieldGenerator;\n"},"base/resolve.js":{path:"./base/resolve",content:"import { clone, isFunction } from './utils';\n\n// \u83b7\u53d6\u5f53\u524d\u5b57\u6bb5\u9ed8\u8ba4\u503c\nfunction getDefaultValue({ default: def, enum: enums = [], type }) {\n  const defaultValue = {\n    array: [],\n    boolean: false,\n    integer: '',\n    null: null,\n    number: '',\n    object: {},\n    string: '',\n    range: null,\n  };\n\n  if (isFunction(def)) {\n    return defaultValue[type];\n  }\n  if (isFunction(enums)) {\n    if (type === 'array') {\n      return [];\n    }\n    if (type === 'string' || type === 'number') {\n      return '';\n    }\n  }\n\n  // \u5982\u679c\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u4f18\u5148\u4ece\u9ed8\u8ba4\u503c\u4e2d\u83b7\u53d6\n  if (typeof def !== 'undefined') {\n    return def;\n  }\n  // array\u4e14enum\u7684\u60c5\u51b5\uff0c\u4e3a\u591a\u9009\u6846\uff0c\u9ed8\u8ba4\u503c[]\n  if (type === 'array' && enums.length) {\n    return [];\n  }\n  // \u5982\u679cenum\u662f\u8868\u8fbe\u5f0f\uff0c\u4e0d\u5904\u7406\n  // \u5982\u679c\u8bbe\u7f6e\u679a\u4e3e\u503c\uff0c\u5176\u6b21\u4ece\u679a\u4e3e\u503c\u4e2d\u83b7\u53d6\n  if (Array.isArray(enums) && enums[0] && typeof enums[0] !== 'undefined') {\n    return enums[0];\n  }\n  // \u6700\u540e\u4f7f\u7528\u5bf9\u5e94\u57fa\u7840\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\n  return defaultValue[type];\n}\n\nfunction resolve(schema, data, options = {}) {\n  const {\n    // \u7c7b\u578b\n    type,\n    // \u5bf9\u8c61\u5b50\u96c6\n    properties,\n    // \u6570\u7ec4\u5b50\u96c6\n    items,\n    // \u5fc5\u9009\u503c\uff0c\u5bf9\u8c61\u7684\u5b50\u96c6\n    default: def,\n    required = [],\n    'ui:widget': widget,\n  } = schema;\n  const {\n    // \u6309\u7167required\u89c4\u5219\u505a\u6570\u636e\u8865\u5168\n    checkRequired = false,\n  } = options;\n\n  const value =\n    typeof data === 'undefined' ? getDefaultValue(schema) : clone(data);\n\n  if (type === 'object') {\n    // \u5982\u679c\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n    if (widget) {\n      if (def && typeof def === 'object') {\n        return def;\n      }\n      return value;\n    }\n    const subs = properties || {};\n    const ret = {};\n    Object.keys(subs).forEach(name => {\n      const checkAndPass =\n        checkRequired && [].concat(required).indexOf(name) !== -1;\n      if (!checkRequired || checkAndPass) {\n        ret[name] = resolve(subs[name], value[name], options);\n      }\n    });\n    return ret;\n  }\n  if (type === 'array') {\n    // \u5982\u679c\u6ca1\u6709value\u4e14default\u6709\u503c\uff0c\u7528default\n    if (def && Array.isArray(def) && !value) {\n      return def;\n    }\n    // \u5982\u679c\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n    if (widget) return value;\n\n    const subs = [].concat(items || []);\n    const ret = [];\n    value.forEach &&\n      value.forEach((item, idx) => {\n        ret[idx] = resolve(subs[idx] || subs[0], item, options);\n      });\n    return ret;\n  }\n  return value;\n}\n\nexport default resolve;\n"},"base/validate.js":{path:"./base/validate",content:"/**\n * Created by Tw93 on 2018-09-04.\n * \u6821\u9a8c\u8868\u5355\u683c\u5f0f\n */\n\nimport isLength from 'validator/lib/isLength';\nimport Color from 'color';\nimport { isHidden } from './isHidden';\nimport { hasRepeat, isFunction } from './utils';\n\nconst isEmptyObject = obj =>\n  Object.keys(obj).length === 0 && obj.constructor === Object;\n\n// \u503c\u662f\u662f\u5426\u4e3a\u7a7a\nconst isEmptyValue = (value, schema) => {\n  // \u591a\u9009\u7ec4\u4ef6\u7684\u503c\u4e3a [] \u65f6\uff0c\u4e5f\u5224\u65ad\u4e3a\u7a7a\u503c\n  if (schema.type === 'array' && schema.enum) {\n    return !value || value.length === 0;\n  }\n  if (value === 0) {\n    return false;\n  }\n  return !value;\n};\n\nexport const getValidateText = (obj = {}) => {\n  const { value, defaultValue, required, schema = {} } = obj;\n\n  const {\n    type,\n    pattern,\n    message,\n    format,\n    'ui:widget': widget,\n    minLength, // string\n    maxLength, // string\n    minimum, // number\n    maximum, // number\n    minItems, // list\n    maxItems, // list\n    uniqueItems, // list\n  } = schema;\n  let finalValue = value || defaultValue;\n  // fix: number = 0 \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\n  if (type === 'number' && value === 0) {\n    finalValue = 0;\n  }\n  const needPattern = pattern && ['string', 'number'].indexOf(type) > -1;\n  // schema \u91cc\u9762\u6ca1\u6709\u5185\u5bb9\u7684\uff0c\u76f4\u63a5\u9000\u51fa\n  if (isEmptyObject(schema)) {\n    return false;\n  }\n\n  // \u6821\u9a8c\u662f\u5426\u4e3arequired\n  if (required && isEmptyValue(finalValue, schema)) {\n    return (message && message.required) || '\u4e0d\u80fd\u4e3a\u7a7a';\n  }\n  // \u5b57\u7b26\u4e32\u76f8\u5173\u6821\u9a8c\n  if (type === 'string') {\n    if (finalValue && maxLength) {\n      if (!isLength(finalValue, 0, parseInt(maxLength, 10))) {\n        return (message && message.maxLength) || `\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e ${maxLength}`;\n      }\n    }\n    if (finalValue && (minLength || minLength === 0)) {\n      if (\n        !finalValue ||\n        !isLength(finalValue, parseInt(minLength, 10), undefined)\n      ) {\n        return (message && message.minLength) || `\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e ${minLength}`;\n      }\n    }\n\n    if (format === 'color' || widget === 'color') {\n      try {\n        // if (!finalValue) return '\u8bf7\u586b\u5199\u6b63\u786e\u7684\u989c\u8272\u683c\u5f0f';\n        Color(finalValue);\n      } catch (e) {\n        return '\u8bf7\u586b\u5199\u6b63\u786e\u7684\u989c\u8272\u683c\u5f0f';\n      }\n    }\n  }\n\n  // \u6570\u5b57\u76f8\u5173\u6821\u9a8c\n  if (type === 'number') {\n    if (typeof finalValue !== 'number') {\n      return '\u8bf7\u586b\u5199\u6570\u5b57';\n    }\n    if (maximum && parseInt(finalValue, 10) > maximum) {\n      return (message && message.maximum) || `\u6570\u503c\u4e0d\u80fd\u5927\u4e8e ${maximum}`;\n    }\n    if ((minimum || minimum === 0) && parseInt(finalValue, 10) < minimum) {\n      return (message && message.minimum) || `\u6570\u503c\u4e0d\u80fd\u5c0f\u4e8e ${minimum}`;\n    }\n  }\n\n  // \u6b63\u5219\u53ea\u5bf9\u6570\u5b57\u548c\u5b57\u7b26\u4e32\u6709\u6548\u679c\n  if (finalValue && needPattern && !new RegExp(pattern).test(finalValue)) {\n    return (message && message.pattern) || '\u683c\u5f0f\u4e0d\u5339\u914d';\n  }\n\n  // \u6570\u7ec4\u9879\u76ee\u76f8\u5173\u6821\u9a8c\n  if (type === 'array') {\n    if (maxItems && finalValue && finalValue.length > maxItems) {\n      return (message && message.maxItems) || `\u7ec4\u6570\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e ${maxItems}`;\n    }\n\n    if (\n      (minItems || minItems === 0) &&\n      finalValue &&\n      finalValue.length < minItems\n    ) {\n      return (message && message.minItems) || `\u7ec4\u6570\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e ${minItems}`;\n    }\n\n    if (uniqueItems && Array.isArray(finalValue) && finalValue.length > 1) {\n      if (typeof uniqueItems === 'boolean') {\n        if (hasRepeat(finalValue)) {\n          return '\u5b58\u5728\u91cd\u590d\u5143\u7d20';\n        }\n      }\n      if (typeof uniqueItems === 'string') {\n        const nameList = finalValue.map(item => item[uniqueItems]);\n        const isRepeat = nameList.find(\n          (x, index) => nameList.indexOf(x) !== index\n        );\n        if (isRepeat) {\n          return '\u5b58\u5728\u91cd\u590d\u7684 ' + uniqueItems + ' \u503c';\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\nexport const dealTypeValidate = (key, value, schema = {}) => {\n  const checkList = [];\n  const { type, items } = schema;\n  const obj = {\n    value,\n    schema,\n  };\n  if (type === 'object') {\n    const list = getValidateList(value, schema); // eslint-disable-line\n    checkList.push(...list);\n  } else if (type === 'array') {\n    value.forEach(v => {\n      const list = dealTypeValidate(key, v, items);\n      checkList.push(...list);\n    });\n  }\n  if (getValidateText(obj)) {\n    checkList.push(key);\n  }\n  return checkList;\n};\n\n// for backward compatibility\nconst keyHidden = (schema, val) => {\n  let hidden = schema && schema['ui:hidden'];\n  if (typeof hidden === 'string' && isFunction(hidden) === false) {\n    hidden = isHidden({ hidden, rootValue: val });\n  }\n  return hidden;\n};\n\nexport const getValidateList = (val = {}, prop = {}) => {\n  const checkList = [];\n  const { properties, required } = prop;\n  // \u6821\u9a8c\u5fc5\u586b\uff08required \u5c5e\u6027\u53ea\u5728 type:object \u4e0b\u5b58\u5728\uff09\n  if (required && required.length > 0) {\n    required.forEach(key => {\n      const schema = (properties && properties[key]) || {};\n      const hidden = keyHidden(schema, val);\n      const itemValue = val && val[key];\n      if (isEmptyValue(itemValue, schema) && !hidden) {\n        checkList.push(key);\n      }\n    });\n  }\n\n  if (properties && val && Object.keys(val) && Object.keys(val).length > 0) {\n    Object.keys(val).forEach(key => {\n      const value = val[key];\n      const schema = properties[key] || {};\n      const hidden = keyHidden(schema, val);\n      if (!hidden) {\n        const list = dealTypeValidate(key, value, schema);\n        checkList.push(...list);\n      }\n    });\n  }\n\n  return checkList;\n};\n"},"atom.css":{path:"./atom.css",content:"\n.fr-wrapper .outline { outline: 1px solid; }\n.fr-wrapper .outline-transparent { outline: 1px solid transparent; }\n.fr-wrapper .outline-0 { outline: 0; }\n\n.fr-wrapper .ba { border-style: solid; border-width: 1px; }\n.fr-wrapper .bt { border-top-style: solid; border-top-width: 1px; }\n.fr-wrapper .br { border-right-style: solid; border-right-width: 1px; }\n.fr-wrapper .bb { border-bottom-style: solid; border-bottom-width: 1px; }\n.fr-wrapper .bl { border-left-style: solid; border-left-width: 1px; }\n.fr-wrapper .bn { border-style: none; border-width: 0; }\n\n.fr-wrapper .br0 { border-radius: 0; }\n.fr-wrapper .br1 { border-radius: .125rem; }\n.fr-wrapper .br2 { border-radius: .25rem; }\n.fr-wrapper .br3 { border-radius: .5rem; }\n.fr-wrapper .br4 { border-radius: 1rem; }\n.fr-wrapper .br-100 { border-radius: 100%; }\n.fr-wrapper .br-pill { border-radius: 9999px; }\n.fr-wrapper .br--bottom { border-top-left-radius: 0; border-top-right-radius: 0; }\n.fr-wrapper .br--top { border-bottom-left-radius: 0; border-bottom-right-radius: 0; }\n.fr-wrapper .br--right { border-top-left-radius: 0; border-bottom-left-radius: 0; }\n.fr-wrapper .br--left { border-top-right-radius: 0; border-bottom-right-radius: 0; }\n\n.fr-wrapper .b--dotted { border-style: dotted; }\n.fr-wrapper .b--dashed { border-style: dashed; }\n.fr-wrapper .b--solid { border-style: solid; }\n.fr-wrapper .b--none { border-style: none; }\n\n.fr-wrapper .b--black-10 { border-color: rgba( 0, 0, 0, .1 ); }\n.fr-wrapper .b--black-20 { border-color: rgba( 0, 0, 0, .2 ); }\n.fr-wrapper .b--black-30 { border-color: rgba( 0, 0, 0, .3 ); }\n\n.fr-wrapper .bw0 { border-width: 0; }\n.fr-wrapper .bw1 { border-width: .125rem; }\n.fr-wrapper .bw2 { border-width: .25rem; }\n.fr-wrapper .bw3 { border-width: .5rem; }\n.fr-wrapper .bw4 { border-width: 1rem; }\n.fr-wrapper .bw5 { border-width: 2rem; }\n /* Resets */\n.fr-wrapper .bt-0 { border-top-width: 0; }\n.fr-wrapper .br-0 { border-right-width: 0; }\n.fr-wrapper .bb-0 { border-bottom-width: 0; }\n.fr-wrapper .bl-0 { border-left-width: 0; }\n\n.fr-wrapper .shadow-1 { box-shadow: 0 0 4px 2px rgba( 0, 0, 0, .2 ); }\n.fr-wrapper .shadow-2 { box-shadow: 0 0 8px 2px rgba( 0, 0, 0, .2 ); }\n.fr-wrapper .shadow-3 { box-shadow: 2px 2px 4px 2px rgba( 0, 0, 0, .2 ); }\n.fr-wrapper .shadow-4 { box-shadow: 2px 2px 8px 0 rgba( 0, 0, 0, .2 ); }\n.fr-wrapper .shadow-5 { box-shadow: 4px 4px 8px 0 rgba( 0, 0, 0, .2 ); }\n\n.fr-wrapper .top-0 { top: 0; }\n.fr-wrapper .right-0 { right: 0; }\n.fr-wrapper .bottom-0 { bottom: 0; }\n.fr-wrapper .left-0 { left: 0; }\n.fr-wrapper .top-1 { top: 1rem; }\n.fr-wrapper .right-1 { right: 1rem; }\n.fr-wrapper .bottom-1 { bottom: 1rem; }\n.fr-wrapper .left-1 { left: 1rem; }\n.fr-wrapper .top-2 { top: 2rem; }\n.fr-wrapper .right-2 { right: 2rem; }\n.fr-wrapper .bottom-2 { bottom: 2rem; }\n.fr-wrapper .left-2 { left: 2rem; }\n.fr-wrapper .top--1 { top: -1rem; }\n.fr-wrapper .right--1 { right: -1rem; }\n.fr-wrapper .bottom--1 { bottom: -1rem; }\n.fr-wrapper .left--1 { left: -1rem; }\n.fr-wrapper .top--2 { top: -2rem; }\n.fr-wrapper .right--2 { right: -2rem; }\n.fr-wrapper .bottom--2 { bottom: -2rem; }\n.fr-wrapper .left--2 { left: -2rem; }\n.fr-wrapper .absolute--fill { top: 0; right: 0; bottom: 0; left: 0; }\n\n.fr-wrapper .dn { display: none; }\n.fr-wrapper .di { display: inline; }\n.fr-wrapper .db { display: block; }\n.fr-wrapper .dib { display: inline-block; }\n.fr-wrapper .dit { display: inline-table; }\n.fr-wrapper .dt { display: table; }\n.fr-wrapper .dtc { display: table-cell; }\n.fr-wrapper .dt-row { display: table-row; }\n.fr-wrapper .dt-row-group { display: table-row-group; }\n.fr-wrapper .dt-column { display: table-column; }\n.fr-wrapper .dt-column-group { display: table-column-group; }\n /*\n   This will set table to full width and then\n   all cells will be equal width\n */\n.fr-wrapper .dt--fixed { table-layout: fixed; width: 100%; }\n\n.fr-wrapper .flex { display: flex; }\n.fr-wrapper .inline-flex { display: inline-flex; }\n /* 1. Fix for Chrome 44 bug.\n  * https://code.google.com/p/chromium/issues/detail?id=506893 */\n.fr-wrapper .flex-auto { flex: 1 1 auto; min-width: 0; /* 1 */ min-height: 0; /* 1 */ }\n.fr-wrapper .flex-none { flex: none; }\n.fr-wrapper .flex-column { flex-direction: column; }\n.fr-wrapper .flex-row { flex-direction: row; }\n.fr-wrapper .flex-wrap { flex-wrap: wrap; }\n.fr-wrapper .flex-nowrap { flex-wrap: nowrap; }\n.fr-wrapper .flex-wrap-reverse { flex-wrap: wrap-reverse; }\n.fr-wrapper .flex-column-reverse { flex-direction: column-reverse; }\n.fr-wrapper .flex-row-reverse { flex-direction: row-reverse; }\n.fr-wrapper .items-start { align-items: flex-start; }\n.fr-wrapper .items-end { align-items: flex-end; }\n.fr-wrapper .items-center { align-items: center; }\n.fr-wrapper .items-baseline { align-items: baseline; }\n.fr-wrapper .items-stretch { align-items: stretch; }\n.fr-wrapper .self-start { align-self: flex-start; }\n.fr-wrapper .self-end { align-self: flex-end; }\n.fr-wrapper .self-center { align-self: center; }\n.fr-wrapper .self-baseline { align-self: baseline; }\n.fr-wrapper .self-stretch { align-self: stretch; }\n.fr-wrapper .justify-start { justify-content: flex-start; }\n.fr-wrapper .justify-end { justify-content: flex-end; }\n.fr-wrapper .justify-center { justify-content: center; }\n.fr-wrapper .justify-between { justify-content: space-between; }\n.fr-wrapper .justify-around { justify-content: space-around; }\n.fr-wrapper .content-start { align-content: flex-start; }\n.fr-wrapper .content-end { align-content: flex-end; }\n.fr-wrapper .content-center { align-content: center; }\n.fr-wrapper .content-between { align-content: space-between; }\n.fr-wrapper .content-around { align-content: space-around; }\n.fr-wrapper .content-stretch { align-content: stretch; }\n.fr-wrapper .order-0 { order: 0; }\n.fr-wrapper .order-1 { order: 1; }\n.fr-wrapper .order-2 { order: 2; }\n.fr-wrapper .order-3 { order: 3; }\n.fr-wrapper .order-4 { order: 4; }\n.fr-wrapper .order-5 { order: 5; }\n.fr-wrapper .order-6 { order: 6; }\n.fr-wrapper .order-7 { order: 7; }\n.fr-wrapper .order-8 { order: 8; }\n.fr-wrapper .order-last { order: 99999; }\n.fr-wrapper .flex-grow-0 { flex-grow: 0; }\n.fr-wrapper .flex-grow-1 { flex-grow: 1; }\n.fr-wrapper .flex-shrink-0 { flex-shrink: 0; }\n.fr-wrapper .flex-shrink-1 { flex-shrink: 1; }\n\n.fr-wrapper .fw1 { font-weight: 100; }\n.fr-wrapper .fw2 { font-weight: 200; }\n.fr-wrapper .fw3 { font-weight: 300; }\n.fr-wrapper .fw4 { font-weight: 400; }\n.fr-wrapper .fw5 { font-weight: 500; }\n.fr-wrapper .fw6 { font-weight: 600; }\n.fr-wrapper .fw7 { font-weight: 700; }\n.fr-wrapper .fw8 { font-weight: 800; }\n.fr-wrapper .fw9 { font-weight: 900; }\n\n.fr-wrapper .h1 { height: 1rem; }\n.fr-wrapper .h2 { height: 2rem; }\n.fr-wrapper .h3 { height: 4rem; }\n.fr-wrapper .h4 { height: 8rem; }\n.fr-wrapper .h5 { height: 16rem; }\n /* Height Percentages - Based off of height of parent */\n.fr-wrapper .h-25 { height: 25%; }\n.fr-wrapper .h-50 { height: 50%; }\n.fr-wrapper .h-75 { height: 75%; }\n.fr-wrapper .h-100 { height: 100%; }\n.fr-wrapper .min-h-100 { min-height: 100%; }\n /* Screen Height Percentage */\n.fr-wrapper .vh-25 { height: 25vh; }\n.fr-wrapper .vh-50 { height: 50vh; }\n.fr-wrapper .vh-75 { height: 75vh; }\n.fr-wrapper .vh-100 { height: 100vh; }\n.fr-wrapper .min-vh-100 { min-height: 100vh; }\n /* String Properties */\n.fr-wrapper .h-auto { height: auto; }\n.fr-wrapper .h-inherit { height: inherit; }\n\n.fr-wrapper .tracked { letter-spacing: .1em; }\n.fr-wrapper .tracked-tight { letter-spacing: -.05em; }\n.fr-wrapper .tracked-mega { letter-spacing: .25em; }\n\n.fr-wrapper .lh-solid { line-height: 1; }\n.fr-wrapper .lh-title { line-height: 1.25; }\n.fr-wrapper .lh-copy { line-height: 1.5; }\n\n /* Max Width Percentages */\n.fr-wrapper .mw-100 { max-width: 100%; }\n /* Max Width Scale */\n.fr-wrapper .mw1 { max-width: 1rem; }\n.fr-wrapper .mw2 { max-width: 2rem; }\n.fr-wrapper .mw3 { max-width: 4rem; }\n.fr-wrapper .mw4 { max-width: 8rem; }\n.fr-wrapper .mw5 { max-width: 16rem; }\n.fr-wrapper .mw6 { max-width: 32rem; }\n.fr-wrapper .mw7 { max-width: 48rem; }\n.fr-wrapper .mw8 { max-width: 64rem; }\n.fr-wrapper .mw9 { max-width: 96rem; }\n /* Max Width String Properties */\n.fr-wrapper .mw-none { max-width: none; }\n\n.fr-wrapper .w1 { width: 1rem; }\n.fr-wrapper .w2 { width: 2rem; }\n.fr-wrapper .w3 { width: 4rem; }\n.fr-wrapper .w4 { width: 8rem; }\n.fr-wrapper .w5 { width: 16rem; }\n.fr-wrapper .w-10 { width: 10%; }\n.fr-wrapper .w-20 { width: 20%; }\n.fr-wrapper .w-25 { width: 25%; }\n.fr-wrapper .w-30 { width: 30%; }\n.fr-wrapper .w-33 { width: 33%; }\n.fr-wrapper .w-34 { width: 34%; }\n.fr-wrapper .w-40 { width: 40%; }\n.fr-wrapper .w-50 { width: 50%; }\n.fr-wrapper .w-60 { width: 60%; }\n.fr-wrapper .w-70 { width: 70%; }\n.fr-wrapper .w-75 { width: 75%; }\n.fr-wrapper .w-80 { width: 80%; }\n.fr-wrapper .w-90 { width: 90%; }\n.fr-wrapper .w-100 { width: 100%; }\n.fr-wrapper .w-third { width: calc( 100% / 3 ); }\n.fr-wrapper .w-two-thirds { width: calc( 100% / 1.5 ); }\n.fr-wrapper .w-auto { width: auto; }\n\n.fr-wrapper .tl { text-align: left; }\n.fr-wrapper .tr { text-align: right; }\n.fr-wrapper .tc { text-align: center; }\n.fr-wrapper .tj { text-align: justify; }\n\n.fr-wrapper .overflow-visible { overflow: visible; }\n.fr-wrapper .overflow-hidden { overflow: hidden; }\n.fr-wrapper .overflow-scroll { overflow: scroll; }\n.fr-wrapper .overflow-auto { overflow: auto; }\n.fr-wrapper .overflow-x-visible { overflow-x: visible; }\n.fr-wrapper .overflow-x-hidden { overflow-x: hidden; }\n.fr-wrapper .overflow-x-scroll { overflow-x: scroll; }\n.fr-wrapper .overflow-x-auto { overflow-x: auto; }\n.fr-wrapper .overflow-y-visible { overflow-y: visible; }\n.fr-wrapper .overflow-y-hidden { overflow-y: hidden; }\n.fr-wrapper .overflow-y-scroll { overflow-y: scroll; }\n.fr-wrapper .overflow-y-auto { overflow-y: auto; }\n\n.fr-wrapper .static { position: static; }\n.fr-wrapper .relative { position: relative; }\n.fr-wrapper .absolute { position: absolute; }\n.fr-wrapper .fixed { position: fixed; }\n\n.fr-wrapper .o-100 { opacity: 1; }\n.fr-wrapper .o-90 { opacity: .9; }\n.fr-wrapper .o-80 { opacity: .8; }\n.fr-wrapper .o-70 { opacity: .7; }\n.fr-wrapper .o-60 { opacity: .6; }\n.fr-wrapper .o-50 { opacity: .5; }\n.fr-wrapper .o-40 { opacity: .4; }\n.fr-wrapper .o-30 { opacity: .3; }\n.fr-wrapper .o-20 { opacity: .2; }\n.fr-wrapper .o-10 { opacity: .1; }\n.fr-wrapper .o-05 { opacity: .05; }\n.fr-wrapper .o-025 { opacity: .025; }\n.fr-wrapper .o-0 { opacity: 0; }\n\n.fr-wrapper .pa0 { padding: 0; }\n.fr-wrapper .pa1 { padding: .25rem; }\n.fr-wrapper .pa2 { padding: .5rem; }\n.fr-wrapper .pa3 { padding: 1rem; }\n.fr-wrapper .pa4 { padding: 2rem; }\n.fr-wrapper .pa5 { padding: 4rem; }\n.fr-wrapper .pa6 { padding: 8rem; }\n.fr-wrapper .pa7 { padding: 16rem; }\n.fr-wrapper .pl0 { padding-left: 0; }\n.fr-wrapper .pl1 { padding-left: .25rem; }\n.fr-wrapper .pl2 { padding-left: .5rem; }\n.fr-wrapper .pl3 { padding-left: 1rem; }\n.fr-wrapper .pl4 { padding-left: 2rem; }\n.fr-wrapper .pl5 { padding-left: 4rem; }\n.fr-wrapper .pl6 { padding-left: 8rem; }\n.fr-wrapper .pl7 { padding-left: 16rem; }\n.fr-wrapper .pr0 { padding-right: 0; }\n.fr-wrapper .pr1 { padding-right: .25rem; }\n.fr-wrapper .pr2 { padding-right: .5rem; }\n.fr-wrapper .pr3 { padding-right: 1rem; }\n.fr-wrapper .pr4 { padding-right: 2rem; }\n.fr-wrapper .pr5 { padding-right: 4rem; }\n.fr-wrapper .pr6 { padding-right: 8rem; }\n.fr-wrapper .pr7 { padding-right: 16rem; }\n.fr-wrapper .pb0 { padding-bottom: 0; }\n.fr-wrapper .pb1 { padding-bottom: .25rem; }\n.fr-wrapper .pb2 { padding-bottom: .5rem; }\n.fr-wrapper .pb3 { padding-bottom: 1rem; }\n.fr-wrapper .pb4 { padding-bottom: 2rem; }\n.fr-wrapper .pb5 { padding-bottom: 4rem; }\n.fr-wrapper .pb6 { padding-bottom: 8rem; }\n.fr-wrapper .pb7 { padding-bottom: 16rem; }\n.fr-wrapper .pt0 { padding-top: 0; }\n.fr-wrapper .pt1 { padding-top: .25rem; }\n.fr-wrapper .pt2 { padding-top: .5rem; }\n.fr-wrapper .pt3 { padding-top: 1rem; }\n.fr-wrapper .pt4 { padding-top: 2rem; }\n.fr-wrapper .pt5 { padding-top: 4rem; }\n.fr-wrapper .pt6 { padding-top: 8rem; }\n.fr-wrapper .pt7 { padding-top: 16rem; }\n.fr-wrapper .pv0 { padding-top: 0; padding-bottom: 0; }\n.fr-wrapper .pv1 { padding-top: .25rem; padding-bottom: .25rem; }\n.fr-wrapper .pv2 { padding-top: .5rem; padding-bottom: .5rem; }\n.fr-wrapper .pv3 { padding-top: 1rem; padding-bottom: 1rem; }\n.fr-wrapper .pv4 { padding-top: 2rem; padding-bottom: 2rem; }\n.fr-wrapper .pv5 { padding-top: 4rem; padding-bottom: 4rem; }\n.fr-wrapper .pv6 { padding-top: 8rem; padding-bottom: 8rem; }\n.fr-wrapper .pv7 { padding-top: 16rem; padding-bottom: 16rem; }\n.fr-wrapper .ph0 { padding-left: 0; padding-right: 0; }\n.fr-wrapper .ph1 { padding-left: .25rem; padding-right: .25rem; }\n.fr-wrapper .ph2 { padding-left: .5rem; padding-right: .5rem; }\n.fr-wrapper .ph3 { padding-left: 1rem; padding-right: 1rem; }\n.fr-wrapper .ph4 { padding-left: 2rem; padding-right: 2rem; }\n.fr-wrapper .ph5 { padding-left: 4rem; padding-right: 4rem; }\n.fr-wrapper .ph6 { padding-left: 8rem; padding-right: 8rem; }\n.fr-wrapper .ph7 { padding-left: 16rem; padding-right: 16rem; }\n.fr-wrapper .ma1 { margin: .25rem; }\n.fr-wrapper .ma2 { margin: .5rem; }\n.fr-wrapper .ma3 { margin: 1rem; }\n.fr-wrapper .ma4 { margin: 2rem; }\n.fr-wrapper .ma5 { margin: 4rem; }\n.fr-wrapper .ma6 { margin: 8rem; }\n.fr-wrapper .ma7 { margin: 16rem; }\n.fr-wrapper .ma0 { margin: 0; }\n.fr-wrapper .ml1 { margin-left: .25rem; }\n.fr-wrapper .ml2 { margin-left: .5rem; }\n.fr-wrapper .ml3 { margin-left: 1rem; }\n.fr-wrapper .ml4 { margin-left: 2rem; }\n.fr-wrapper .ml5 { margin-left: 4rem; }\n.fr-wrapper .ml6 { margin-left: 8rem; }\n.fr-wrapper .ml7 { margin-left: 16rem; }\n.fr-wrapper .ml0 { margin-left: 0; }\n.fr-wrapper .mr1 { margin-right: .25rem; }\n.fr-wrapper .mr2 { margin-right: .5rem; }\n.fr-wrapper .mr3 { margin-right: 1rem; }\n.fr-wrapper .mr4 { margin-right: 2rem; }\n.fr-wrapper .mr5 { margin-right: 4rem; }\n.fr-wrapper .mr6 { margin-right: 8rem; }\n.fr-wrapper .mr7 { margin-right: 16rem; }\n.fr-wrapper .mr0 { margin-right: 0; }\n.fr-wrapper .mb1 { margin-bottom: .25rem; }\n.fr-wrapper .mb2 { margin-bottom: .5rem; }\n.fr-wrapper .mb3 { margin-bottom: 1rem; }\n.fr-wrapper .mb4 { margin-bottom: 2rem; }\n.fr-wrapper .mb5 { margin-bottom: 4rem; }\n.fr-wrapper .mb6 { margin-bottom: 8rem; }\n.fr-wrapper .mb7 { margin-bottom: 16rem; }\n.fr-wrapper .mb0 { margin-bottom: 0; }\n.fr-wrapper .mt1 { margin-top: .25rem; }\n.fr-wrapper .mt2 { margin-top: .5rem; }\n.fr-wrapper .mt3 { margin-top: 1rem; }\n.fr-wrapper .mt4 { margin-top: 2rem; }\n.fr-wrapper .mt5 { margin-top: 4rem; }\n.fr-wrapper .mt6 { margin-top: 8rem; }\n.fr-wrapper .mt7 { margin-top: 16rem; }\n.fr-wrapper .mt0 { margin-top: 0; }\n.fr-wrapper .mv1 { margin-top: .25rem; margin-bottom: .25rem; }\n.fr-wrapper .mv2 { margin-top: .5rem; margin-bottom: .5rem; }\n.fr-wrapper .mv3 { margin-top: 1rem; margin-bottom: 1rem; }\n.fr-wrapper .mv4 { margin-top: 2rem; margin-bottom: 2rem; }\n.fr-wrapper .mv5 { margin-top: 4rem; margin-bottom: 4rem; }\n.fr-wrapper .mv6 { margin-top: 8rem; margin-bottom: 8rem; }\n.fr-wrapper .mv7 { margin-top: 16rem; margin-bottom: 16rem; }\n.fr-wrapper .mv0 { margin-top: 0; margin-bottom: 0; }\n.fr-wrapper .mh1 { margin-left: .25rem; margin-right: .25rem; }\n.fr-wrapper .mh2 { margin-left: .5rem; margin-right: .5rem; }\n.fr-wrapper .mh3 { margin-left: 1rem; margin-right: 1rem; }\n.fr-wrapper .mh4 { margin-left: 2rem; margin-right: 2rem; }\n.fr-wrapper .mh5 { margin-left: 4rem; margin-right: 4rem; }\n.fr-wrapper .mh6 { margin-left: 8rem; margin-right: 8rem; }\n.fr-wrapper .mh7 { margin-left: 16rem; margin-right: 16rem; }\n.fr-wrapper .mh0 { margin-left: 0; margin-right: 0; }\n\n .debug * { outline: 1px solid gold; }\n .debug-white * { outline: 1px solid white; }\n .debug-black * { outline: 1px solid black; }\n .debug-grid { background: transparent url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVR4AWPAC97/9x0eCsAEPgwAVLshdpENIxcAAAAASUVORK5CYII= ) repeat top left; }\n\n.fr-wrapper .truncate { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }\n.fr-wrapper .bg-white { background-color: #fff; }\n.fr-wrapper .pointer:hover { cursor: pointer; }\n.fr-wrapper .link { color: #1890ff; font-size: 14px; }\n.fr-wrapper .link:hover { color: #40a9ff; font-size: 14px; }\n/* .fr-wrapper .link:hover { color: #3e71f7; font-size: 14px; } */\n"},"index.css":{path:"./index.css",content:"/*\n  \u7528\u4e8e\u539f\u6709\u6837\u5f0f\u7684\u8986\u76d6\n */\n\n.fr-set {\n  padding: 12px 14px 12px 12px;\n  margin-bottom: 12px;\n  border-radius: 4px;\n}\n\n.fr-field {\n  margin-bottom: 24px;\n}\n\n.fr-field-object {\n  margin-bottom: 0;\n}\n\n.fr-label {\n  display: block;\n}\n\n.fr-label-title {\n  display: inline-flex;\n  color: #333;\n  font-size: 14px;\n  min-height: 22px; /* \"\"\u7684\u6807\u7b7e\u9875\u5360\u4f4d */\n  line-height: 22px;\n}\n\n.fr-label-required {\n  margin: 1px 4px 0 0;\n  color: #f5222d;\n  font-size: 14px;\n  font-family: SimSun, sans-serif;\n}\n\n.fr-label-title::after {\n  content: ':';\n  position: relative;\n  top: -0.5px;\n  margin: 0 10px 0 2px;\n}\n\n.fr-label-title.no-colon::after {\n  content: '';\n  margin: 0;\n}\n\n.fr-label-object .fr-label-title {\n  font-size: 16px;\n  color: #222;\n}\n\n.fr-label-array .fr-label-title {\n  font-size: 16px;\n  color: #222;\n}\n\n.fr-desc {\n  font-size: 12px;\n  word-break: break-all;\n  color: #888;\n}\n\n.fr-validate {\n  margin-left: 12px;\n  font-size: 12px;\n  word-break: break-all;\n  color: #f5222d;\n}\n\n.fr-field.fr-field-complex {\n  margin-bottom: 0;\n}\n\n/* Row */\n\n.fr-validate-row {\n  margin: 3px 0 0 0;\n}\n\n.fr-label-row {\n  text-align: right;\n  flex-shrink: 0;\n}\n\n.fr-field-row .fr-content {\n  flex: 1;\n  position: relative;\n}\n\n.fr-field-row .fr-tooltip-icon {\n  margin: 3px 2px 0 0;\n}\n\n/* \u81ea\u5b9a\u4e49\u7c7b */\n.hover-b--black-20:hover {\n  border-color: rgba(0, 0, 0, 0.3);\n}\n\n.pt44 {\n  padding-top: 46px;\n}\n\n.pv12 {\n  padding-top: 12px;\n  padding-bottom: 12px;\n}\n\n.fr-move-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-top: 2px;\n  padding-right: 10px;\n  font-size: 24px;\n  font-weight: 300;\n}\n\n.fr-move-icon:hover {\n  cursor: move;\n}\n\n/* \u7ec4\u4ef6\u5185\u90e8\u6837\u5f0f*/\n\n.fr-color-picker {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  color: #666;\n}\n\n.fr-color-picker .rc-color-picker-trigger {\n  margin-right: 12px;\n  height: 30px;\n  width: 60px;\n  border: 1px solid #e5e5e5;\n}\n\n.fr-color-picker > p {\n  margin: 0;\n  font-size: 14px;\n  line-height: 28px;\n}\n\n.fr-color-picker .rc-color-picker-wrap {\n  display: flex;\n}\n\n.next-input,\n.next-number-picker {\n  width: 100%;\n}\n\n.upload-img {\n  max-width: 200px;\n  max-height: 200px;\n  margin-right: 24px;\n}\n\n.fr-preview-image {\n  width: 160px;\n}\n\n.fr-preview {\n  position: relative;\n  cursor: pointer;\n}\n\n.fr-upload-mod,\n.fr-upload-file {\n  display: flex;\n}\n.fr-upload-mod {\n  align-items: center;\n}\n.fr-upload-mod .fr-upload-preview {\n  margin: 0 12px;\n}\n.fr-upload-file .ant-upload-list-item {\n  margin: 5px 0 0 8px;\n}\n.fr-upload-file .ant-upload-list-item-name {\n  margin-right: 6px;\n}\n.fr-upload-file .ant-upload-list-item-info {\n  cursor: pointer;\n}\n.fr-upload-file .next-upload-list-text .next-upload-list-item-done,\n.fr-upload-file .next-upload-list-text .next-upload-list-item .next-icon {\n  height: 28px;\n  line-height: 28px;\n  margin-left: 12px;\n}\n\n.fr-upload-file .next-upload-list-item-name-wrap {\n  margin-top: -4px;\n}\n\n.fr-sort-help-class {\n  background: #fff;\n}\n\n/* \u5176\u4ed6\u6837\u5f0f */\n\n.fold-icon.fold-icon-active {\n  transform: rotate(0deg);\n}\n\n.fold-icon {\n  transform: rotate(-90deg);\n  transition: transform 0.24s;\n  cursor: pointer;\n  position: relative;\n}\n\n.fold-icon::after {\n  content: '';\n  position: absolute;\n  top: -20px;\n  right: -10px;\n  bottom: -5px;\n  left: -20px;\n}\n\n.fr-tooltip-toggle {\n  cursor: pointer;\n  position: relative;\n}\n\n.fr-tooltip-toggle:hover .fr-tooltip-container {\n  opacity: 1;\n  visibility: visible;\n}\n\n.fr-tooltip-icon {\n  height: 14px;\n  width: 14px;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAM1BMVEVHcExVVVVQUFBRUVFRUVFQUFBRUVFRUVFRUVFQUFBRUVFRUVFRUVFRUVFRUVFSUlJRUVG246uwAAAAEHRSTlMACJhxGYEp71BAu4rQ3WQ4AaMECgAAAWNJREFUSMfFVtuWwyAIjBfES0z8/69dazc1BTTbnJ6zvgUZhQGHLMu/LGXdvjur/ubsNZbfhdpfgVz3PjBu4m5Tc8eojfdGx+dXsiP/7eGwQuiWAOsDssn+UPeyIUErk6sZRv4g3G5BRmzVbOSrTd1iUflqHPLh6qbn/nZCH0VYJAZYI5AD8XxgomnFyi+lJJ1ixJLtHGBzwZ6jZgTRkBpV+lUcLOtlZ6q1oOoZpes2Tp0XzVh2ITihUkdMWJAXipfx5aZKiQIgUEBlTh1l1LQXggDQRzM4oeskgDnC3FnOMqBmvd8DfBySkPQyTZrTKgNetPLCyYDupvluEE26pw/XAOhkCu3NAef2Fh4QB5wfEHuiPlZGYvTDJ0pFID+VOw9FoMmMeVfNd300RGaaUE4GgeNiCTPps5IcQxGatuvoQL6Hcr+NDhoMlNHVbWSl065PbWT5bw3Fz8fujcF+49fh6+sHI2QZEPc8WrAAAAAASUVORK5CYII=');\n  background-size: cover;\n  display: block;\n  margin: 4px 0 0 4px;\n}\n\n.fr-tooltip-container {\n  position: absolute;\n  width: 160px;\n  left: 50%;\n  white-space: initial !important;\n  bottom: 30px;\n  text-align: center;\n  background: #2b222a;\n  padding: 4px;\n  margin-left: -78px;\n  border-radius: 4px;\n  color: #efefef;\n  font-size: 13px;\n  cursor: auto;\n  z-index: 99999;\n  transition: all 0.5s ease;\n  opacity: 0;\n  visibility: hidden;\n  word-wrap: break-word;\n}\n\n.fr-tooltip-triangle {\n  position: absolute;\n  left: 50%;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #2b222a;\n  transition: all 0.5s ease;\n  content: ' ';\n  font-size: 0;\n  line-height: 0;\n  margin-left: -5px;\n  width: 0;\n  bottom: -5px;\n}\n\n.fr-tooltip-toggle::before,\n.fr-tooltip-toggle::after {\n  color: #efefef;\n  font-size: 13px;\n  opacity: 0;\n  pointer-events: none;\n  text-align: center;\n}\n\n.fr-tooltip-toggle:focus::before,\n.fr-tooltip-toggle:focus::after,\n.fr-tooltip-toggle:hover::before,\n.fr-tooltip-toggle:hover::after {\n  opacity: 1;\n  transition: all 0.75s ease;\n}\n\n.fr-slider {\n  display: flex;\n  width: 100%;\n  align-items: center;\n}\n\n.fr-map {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n/* \u8986\u76d6 antd \u7684\u6837\u5f0f */\n\n.fr-wrapper .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n  margin-left: 0;\n}\n\n.fr-wrapper .ant-checkbox-wrapper {\n  margin-right: 8px;\n}\n\n.fr-wrapper .next-checkbox-wrapper + .next-checkbox-wrapper {\n  margin-left: 0;\n}\n\n.fr-wrapper .next-checkbox-wrapper {\n  margin: 4px 8px 4px 0;\n}\n"},"widgets/antd/index.jsx":{path:"./widgets/antd",content:"import checkbox from './checkbox';\nimport checkboxes from './checkboxes';\nimport color from './color';\nimport date from './date';\nimport dateRange from './dateRange';\nimport input from './input';\nimport list from './list';\nimport map from './map';\nimport multiSelect from './multiSelect';\nimport number from './number';\nimport radio from './radio';\nimport select from './select';\nimport slider from './slider';\nimport switch1 from './switch';\nimport textarea from './textarea';\nimport upload from './upload';\nimport html from './html';\n\nexport const widgets = {\n  checkbox,\n  checkboxes, // checkbox\u591a\u9009\n  color,\n  date,\n  dateRange,\n  input,\n  list,\n  map,\n  multiSelect, // \u4e0b\u62c9\u591a\u9009\n  number,\n  radio,\n  select,\n  slider, // \u5e26\u6eda\u6761\u7684number\n  switch: switch1,\n  textarea,\n  upload,\n  html,\n};\n\nexport const mapping = {\n  default: 'input',\n  string: 'input',\n  array: 'list',\n  boolean: 'checkbox',\n  integer: 'number',\n  number: 'number',\n  object: 'map',\n  html: 'html',\n  'string:upload': 'upload',\n  'string:date': 'date',\n  'string:dateTime': 'date',\n  'string:time': 'date',\n  'string:textarea': 'textarea',\n  'string:color': 'color',\n  'string:image': 'input',\n  'range:date': 'dateRange',\n  'range:dateTime': 'dateRange',\n  '*?enum': 'select',\n  'array?enum': 'checkboxes',\n  '*?readonly': 'text',\n};\n"},"checkbox.jsx":{path:"./checkbox",content:"import React from 'react';\nimport { Checkbox } from 'antd';\n\nexport default function radio(p) {\n  return (\n    <Checkbox\n      disabled={p.disabled || p.readonly}\n      onChange={e => p.onChange(p.name, e.target.checked)}\n      checked={p.value}\n    />\n  );\n}\n"},"checkboxes.jsx":{path:"./checkboxes",content:"import React from 'react';\nimport { Checkbox } from 'antd';\n\nexport default function checkboxes(p) {\n  const { enum: enums, enumNames } = p.schema || {};\n  const _value = p.value && Array.isArray(p.value) ? p.value : [];\n  return (\n    <Checkbox.Group\n      disabled={p.disabled || p.readonly}\n      value={_value}\n      onChange={values => p.onChange(p.name, values)}\n    >\n      {(enums || [true, false]).map((val, index) => (\n        <Checkbox value={val} key={index}>\n          <span\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{\n              __html: enumNames ? enumNames[index] : val,\n            }}\n          />\n        </Checkbox>\n      ))}\n    </Checkbox.Group>\n  );\n}\n"},"color.jsx":{path:"./color",content:"import React from 'react';\nimport ColorPicker from 'rc-color-picker';\nimport Color from 'color';\nimport { Input } from 'antd';\nimport 'rc-color-picker/assets/index.css';\n\nexport default function color(p) {\n  const { format } = p.schema;\n  const defaultColor = '#ffffff';\n  const onPickerChange = e => {\n    if (p.disabled || p.readonly) return;\n    let { color, alpha } = e;\n    if (alpha !== 100) {\n      color = Color(color)\n        .alpha(alpha / 100)\n        .string();\n    }\n    p.onChange(p.name, color);\n  };\n  const onInputChange = e => {\n    p.onChange(p.name, e.target.value);\n  };\n\n  return (\n    <div className=\"fr-color-picker\">\n      {\n        <ColorPicker\n          type={format}\n          animation=\"slide-up\"\n          color={p.value || defaultColor}\n          onClose={onPickerChange}\n        />\n      }\n      {p.readonly ? (\n        <span>{p.value || defaultColor}</span>\n      ) : (\n        <Input\n          placeholder={defaultColor}\n          disabled={p.disabled}\n          value={p.value}\n          onChange={onInputChange}\n        />\n      )}\n    </div>\n  );\n}\n"},"date.jsx":{path:"./date",content:"/**\n * Updated by fateriddle on 2019-12-12.\n * \u65e5\u671f\u7ec4\u4ef6\n */\n\nimport { DatePicker, TimePicker } from 'antd';\nimport dateHoc from '../../components/dateHoc';\n\nexport default function date(p) {\n  const { format = 'dateTime' } = p.schema;\n  const onChange = (value, string) => p.onChange(p.name, string);\n  const DateComponent = format === 'time' ? TimePicker : DatePicker;\n  return dateHoc(p, onChange, DateComponent);\n}\n"},"components/dateHoc.jsx":{path:"../../components/dateHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u62bd\u79bb\u9ad8\u9636\u65e5\u671f\u7ec4\u4ef6\n */\n\nimport React from 'react';\nimport moment from 'moment';\nimport { getFormat } from '../base/utils';\n\nexport default (p, onChange, DateComponent) => {\n  const style = p.invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  let { format = 'dateTime' } = p.schema;\n  if (p.options.format) {\n    format = p.options.format;\n  }\n  const dateFormat = getFormat(format);\n  let defaultObj = {};\n  if (p.value) {\n    defaultObj.value = moment(p.value, dateFormat);\n  } else {\n    defaultObj.value = '';\n  }\n\n  const placeholderObj = p.description ? { placeholder: p.description } : {};\n\n  const dateParams = {\n    ...placeholderObj,\n    ...p.options,\n    ...defaultObj,\n    style: { width: '100%', ...style },\n    disabled: p.disabled || p.readonly,\n    onChange,\n  };\n\n  // TODO: format\u662f\u5728options\u91cc\u81ea\u5b9a\u4e49\u7684\u60c5\u51b5\uff0c\u662f\u5426\u8981\u5224\u65ad\u4e00\u4e0b\u8981\u4e0d\u8981showTime\n  if (format === 'dateTime') {\n    dateParams.showTime = true;\n  }\n\n  return <DateComponent {...dateParams} />;\n};\n"},"dateRange.jsx":{path:"./dateRange",content:"/**\n * Updated by Tw93 on 2019-12-08.\n * \u65e5\u5386\u591a\u9009\u7ec4\u4ef6\n */\n\nimport { DatePicker } from 'antd';\nimport rangeHoc from '../../components/rangeHoc';\n\nconst { RangePicker } = DatePicker;\n\nexport default function dateRange(p) {\n  const onChange = (value, string) => p.onChange(p.name, string);\n  return rangeHoc(p, onChange, RangePicker);\n}\n"},"components/rangeHoc.jsx":{path:"../../components/rangeHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u62bd\u79bb\u9ad8\u9636\u65e5\u671f\u7ec4\u4ef6\n */\n\nimport React from 'react';\nimport moment from 'moment';\nimport { getFormat } from '../base/utils';\n\nexport default (p, onChange, RangeComponent) => {\n  const { format = 'dateTime' } = p.schema;\n  const dateFormat = getFormat(format);\n  let defaultObj = {};\n  if (p.value && Array.isArray(p.value) && p.value[0] && p.value[1]) {\n    defaultObj = {\n      defaultValue: [\n        moment(p.value[0], dateFormat),\n        moment(p.value[1], dateFormat),\n      ],\n    };\n  }\n  const datePrams = {\n    ...p.options,\n    ...defaultObj,\n    style: { width: '100%' },\n    showTime: format === 'dateTime',\n    disabled: p.disabled || p.readonly,\n    onChange,\n  };\n  return <RangeComponent {...datePrams} />;\n};\n"},"input.jsx":{path:"./input",content:"import React from 'react';\nimport { PictureOutlined } from '@ant-design/icons';\nimport { Input, Popover } from 'antd';\nimport previewContent from '../../components/previewContent';\n\nconst previewNode = (format, value) => {\n  if (format !== 'image') {\n    return null;\n  }\n  return (\n    <Popover\n      content={previewContent(format, value)}\n      className=\"fr-preview\"\n      placement=\"bottom\"\n    >\n      <PictureOutlined />\n    </Popover>\n  );\n};\n\nexport default function input(p) {\n  const { options = {}, invalid, schema = {} } = p;\n  const style = invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const { format = 'text', maxLength } = schema;\n  const type = format === 'image' ? 'text' : format;\n  const handleChange = e => p.onChange(p.name, e.target.value);\n  let suffix = undefined;\n  try {\n    const _value = p.value || '';\n    suffix = options.suffix;\n    if (!suffix && maxLength) {\n      suffix = (\n        <span\n          style={\n            _value.length > maxLength\n              ? { fontSize: 12, color: '#ff4d4f' }\n              : { fontSize: 12, color: '#999' }\n          }\n        >\n          {_value.length + ' / ' + maxLength}\n        </span>\n      );\n    }\n  } catch (error) {}\n  const config = {\n    ...options,\n    maxLength,\n    suffix,\n  };\n  return (\n    <Input\n      style={style}\n      {...config}\n      value={p.value}\n      type={type}\n      disabled={p.disabled || p.readonly}\n      addonAfter={\n        options.addonAfter ? options.addonAfter : previewNode(format, p.value)\n      }\n      onChange={handleChange}\n    />\n  );\n}\n"},"components/previewContent.jsx":{path:"../../components/previewContent",content:"import React from 'react';\n\nconst defaultImg =\n  'https://img.alicdn.com/tfs/TB14tSiKhTpK1RjSZFKXXa2wXXa-354-330.png';\n\nexport default (format, value) => {\n  return format === 'image' ? (\n    <img\n      src={value || defaultImg}\n      alt=\"\u56fe\u7247\u5730\u5740\u9519\u8bef\"\n      className=\"fr-preview-image\"\n    />\n  ) : null;\n};\n"},"list.jsx":{path:"./list",content:"/**\n * Updated by Tw93 on 2019-12-01.\n * \u6570\u7ec4\u7ec4\u4ef6\n */\n\nimport React, { useState } from 'react';\nimport listHoc from '../../components/listHoc';\nimport * as Icons from '@ant-design/icons';\nimport { isObj } from '../../base/utils';\nimport { Button, Modal, Drawer } from 'antd';\n\nfunction FrButton({ icon, children, ...rest }) {\n  let iconName;\n  switch (icon) {\n    case 'add':\n      iconName = 'PlusCircleOutlined';\n      break;\n    case 'delete':\n      iconName = 'DeleteOutlined';\n      break;\n    default:\n      iconName = icon;\n      break;\n  }\n  const IconComponent = Icons[iconName];\n  if (IconComponent) {\n    return (\n      <Button {...rest} size=\"small\" icon={<IconComponent />}>\n        {children}\n      </Button>\n    );\n  }\n  return (\n    <Button {...rest} size=\"small\">\n      {children}\n    </Button>\n  );\n}\n\nconst List = listHoc(FrButton);\n\nconst ListWithModal = props => {\n  const { options, schema, value } = props || {};\n  const arrLength = (value && value.length) || 0;\n  const [show, setShow] = useState(false);\n  const toggle = () => setShow(o => !o);\n  if (options && options.modal) {\n    const config = isObj(options.modal) ? options.modal : {};\n    const { text } = config;\n    return (\n      <div>\n        <a className=\"pointer\" onClick={toggle}>\n          {text && typeof text === 'string' ? '+ ' + text : '+ \u914d\u7f6e'}\n        </a>\n        <span>\uff08{arrLength}\u6761\u6570\u636e\uff09</span>\n        <Modal\n          title={(schema && schema.title) || '\u5b50\u914d\u7f6e'}\n          visible={show}\n          onCancel={toggle}\n          onOk={toggle}\n          cancelText=\"\u5173\u95ed\"\n          width=\"80%\"\n          {...config}\n          style={{ maxWidth: 800, ...config.style }}\n        >\n          <div className=\"fr-wrapper\">\n            <List {...props} />\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n  if (options && options.drawer) {\n    const config = isObj(options.drawer) ? options.drawer : {};\n    const { text } = config;\n    return (\n      <div>\n        <a className=\"pointer\" onClick={toggle}>\n          {text && typeof text === 'string' ? '+ ' + text : '+ \u914d\u7f6e'}\n        </a>\n        <Drawer\n          title={(schema && schema.title) || '\u5b50\u914d\u7f6e'}\n          visible={show}\n          onClose={toggle}\n          width=\"80%\"\n          {...config}\n        >\n          <div className=\"fr-wrapper\">\n            <List {...props} />\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n  return <List {...props} />;\n};\n\nexport default ListWithModal;\n"},"components/listHoc.jsx":{path:"../../components/listHoc",content:"/**\n * Created by Tw93 on 2019-12-01.\n * \u62bd\u79bb\u9ad8\u9636\u5217\u8868\u7ec4\u4ef6\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  SortableContainer,\n  SortableHandle,\n  SortableElement,\n  arrayMove,\n} from 'react-sortable-hoc';\nimport { isFunction, evaluateString } from '../base/utils';\nimport FoldIcon from './foldIcon';\nimport DescriptionList, { getDescription } from './descList';\n\nconst DragHandle = SortableHandle(() => (\n  <span className=\"fr-move-icon\">:::</span>\n));\n\nconst listItemHoc = ButtonComponent =>\n  class extends React.Component {\n    componentDidMount() {\n      const { p = {}, name, fold } = this.props;\n      const description = getDescription({\n        schema: p.schema,\n        value: p.value,\n        index: name,\n      });\n      // \u5982\u679c\u7b2c\u4e00\u4e2a\u503c\u4e0d\u4e3a\u7a7a\uff0c\u5219\u6536\u8d77\n      // \u65b0\u589e\u7684\u503c\u4e3a0\uff0c\u4e0d\u6298\u53e0\n      const hasValue = description && description[0] && description[0].text;\n      if (hasValue && fold !== 0) {\n        this.props.toggleFoldItem(name);\n      }\n    }\n\n    toggleFold = () => {\n      this.props.toggleFoldItem(this.props.name);\n    };\n\n    handleDelete = () => {\n      const { p = {}, name } = this.props;\n      const value = [...p.value];\n      value.splice(name, 1);\n      p.onChange(p.name, value);\n    };\n\n    render() {\n      const { item, p = {}, name, fold } = this.props;\n      const descProps = { ...p, index: name };\n      const { options = {}, readonly, formData, value: rootValue } = p;\n      const { foldable: canFold, hideIndex } = options;\n      let { hideDelete, itemButtons } = options;\n\n      // \u5224\u65ad hideDelete \u662f\u4e0d\u662f\u51fd\u6570\uff0c\u662f\u7684\u8bdd\u5c06\u8ba1\u7b97\u540e\u7684\u503c\u8d4b\u56de\n      let _isFunction = isFunction(hideDelete);\n      if (_isFunction) {\n        // isFunction \u8fd4\u56de\u4e3a true \u5219\u8bf4\u660e\u53ea\u53ef\u80fd\u4e3a string | Function\n        if (typeof _isFunction === 'string') {\n          hideDelete = evaluateString(_isFunction, formData, rootValue);\n        } else if (typeof _isFunction === 'function') {\n          hideDelete = _isFunction(formData, rootValue);\n        }\n      }\n\n      // \u53ea\u6709\u5f53items\u4e3aobject\u65f6\u624d\u505a\u6536\u8d77\uff08fold\uff09\u5904\u7406\n      const isObj = p.schema.items && p.schema.items.type == 'object';\n      let setClass =\n        'fr-set ba b--black-10 hover-b--black-20 relative flex flex-column';\n      if (canFold && fold) {\n        setClass += ' pv12';\n      } else if (p.displayType === 'row') {\n        setClass += ' pt44';\n      }\n      return (\n        <li className={setClass}>\n          {hideIndex ? null : (\n            <div\n              className=\"absolute top-0 left-0 bg-blue\"\n              style={{\n                paddingLeft: 4,\n                paddingRight: 6,\n                borderBottomRightRadius: 8,\n                borderTopLeftRadius: 3,\n                backgroundColor: 'rgba(0, 0, 0, .36)',\n                fontSize: 8,\n                color: '#fff',\n              }}\n            >\n              {name + 1}\n            </div>\n          )}\n\n          {canFold && fold && isObj ? <DescriptionList {...descProps} /> : item}\n          {canFold && (\n            <FoldIcon\n              fold={fold}\n              onClick={this.toggleFold}\n              style={{ position: 'absolute', top: 12, right: 32 }}\n            />\n          )}\n          {!readonly && <DragHandle />}\n          {!((canFold && fold) || hideDelete || readonly) && (\n            <div className=\"self-end flex\">\n              <ButtonComponent\n                type=\"dashed\"\n                icon=\"delete\"\n                onClick={this.handleDelete}\n              >\n                \u5220\u9664\n              </ButtonComponent>\n              {itemButtons &&\n                itemButtons.length > 0 &&\n                itemButtons.map((btn, idx) => {\n                  return (\n                    <ButtonComponent\n                      key={idx.toString()}\n                      className=\"ml2\"\n                      type=\"dashed\"\n                      icon={btn.icon}\n                      onClick={() => {\n                        const value = [...p.value];\n                        if (typeof window[btn.callback] === 'function') {\n                          const result = window[btn.callback](value, name); // eslint-disable-line\n                          p.onChange(p.name, result);\n                        }\n                      }}\n                    >\n                      {btn.text || ''}\n                    </ButtonComponent>\n                  );\n                })}\n            </div>\n          )}\n        </li>\n      );\n    }\n  };\n\nconst fieldListHoc = ButtonComponent => {\n  const SortableItem = SortableElement(listItemHoc(ButtonComponent));\n  return class extends React.Component {\n    handleAddClick = () => {\n      const { p, addUnfoldItem } = this.props;\n      const value = [...p.value];\n      value.push(p.newItem);\n      p.onChange(p.name, value);\n      addUnfoldItem();\n    };\n    // buttons is a list, each item looks like:\n    // {\n    //   \"text\": \"\u5220\u9664\u5168\u90e8\",\n    //   \"icon\": \"delete\",\n    //   \"callback\": \"clearAll\"\n    // }\n\n    render() {\n      const { p, foldList = [], toggleFoldItem } = this.props;\n      const { options, extraButtons } = p || {};\n      // prefer ui:options/buttons to ui:extraButtons, but keep both for backwards compatibility\n      const buttons = options.buttons || extraButtons || [];\n      const { readonly, schema = {} } = p;\n      const { maxItems } = schema;\n      const list = p.value || [];\n      if (!Array.isArray(list)) {\n        console.error(`\"${p.name}\"\u8fd9\u4e2a\u5b57\u6bb5\u76f8\u5173\u7684schema\u4e66\u5199\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\uff01`);\n        return null;\n      }\n      const canAdd = maxItems ? maxItems > list.length : true; // \u5f53\u5230\u8fbe\u6700\u5927\u4e2a\u6570\uff0c\u65b0\u589e\u6309\u94ae\u6d88\u5931\n      return (\n        <ul className=\"pl0 ma0\">\n          {list.map((_, name) => (\n            <SortableItem\n              key={`item-${name}`}\n              index={name}\n              name={name}\n              p={p}\n              fold={foldList[name]}\n              toggleFoldItem={toggleFoldItem}\n              item={p.getSubField({\n                name,\n                value: p.value[name],\n                onChange(key, val) {\n                  const value = [...p.value];\n                  value[key] = val;\n                  p.onChange(p.name, value);\n                },\n              })}\n            />\n          ))}\n          {!readonly && (\n            <div className=\"tr mb2\">\n              {canAdd && (\n                <ButtonComponent icon=\"add\" onClick={this.handleAddClick}>\n                  \u65b0\u589e\n                </ButtonComponent>\n              )}\n              {buttons &&\n                buttons.length > 0 &&\n                buttons.map((item, i) => {\n                  const { icon, text, callback, ...rest } = item;\n                  return (\n                    <ButtonComponent\n                      className=\"ml2\"\n                      icon={icon}\n                      key={i.toString()}\n                      onClick={() => {\n                        if (callback === 'clearAll') {\n                          p.onChange(p.name, []);\n                          return;\n                        }\n                        if (callback === 'copyLast') {\n                          const value = [...p.value];\n                          const lastIndex = value.length - 1;\n                          value.push(\n                            lastIndex > -1 ? value[lastIndex] : p.newItem\n                          );\n                          p.onChange(p.name, value);\n                          return;\n                        }\n                        if (typeof window[callback] === 'function') {\n                          const value = [...p.value];\n                          const onChange = value => p.onChange(p.name, value);\n                          window[callback](value, onChange, schema, p.newItem); // eslint-disable-line\n                        }\n                      }}\n                      {...rest}\n                    >\n                      {text}\n                    </ButtonComponent>\n                  );\n                })}\n            </div>\n          )}\n        </ul>\n      );\n    }\n  };\n};\n\nexport default function listHoc(ButtonComponent) {\n  const SortableList = SortableContainer(fieldListHoc(ButtonComponent));\n  return class extends React.Component {\n    static propTypes = {\n      value: PropTypes.array,\n    };\n\n    static defaultProps = {\n      value: [],\n    };\n\n    constructor(props) {\n      super(props);\n      const len = this.props.value.length || 0;\n      this.state = {\n        foldList: new Array(len).fill(false) || [],\n      };\n    }\n\n    // \u65b0\u6dfb\u52a0\u7684item\u9ed8\u8ba4\u662f\u5c55\u5f00\u7684\n    addUnfoldItem = () =>\n      this.setState({\n        foldList: [...this.state.foldList, 0],\n      });\n\n    toggleFoldItem = index => {\n      const { foldList = [] } = this.state;\n      foldList[index] = !foldList[index]; // TODO: need better solution for the weird behavior caused by setState being async\n      this.setState({\n        foldList,\n      });\n    };\n\n    handleSort = ({ oldIndex, newIndex }) => {\n      const { onChange, name, value } = this.props;\n      onChange(name, arrayMove(value, oldIndex, newIndex));\n      this.setState({\n        foldList: arrayMove(this.state.foldList, oldIndex, newIndex),\n      });\n    };\n\n    render() {\n      const { foldList } = this.state;\n      return (\n        <SortableList\n          p={this.props}\n          foldList={foldList}\n          toggleFoldItem={this.toggleFoldItem}\n          addUnfoldItem={this.addUnfoldItem}\n          distance={6}\n          useDragHandle\n          helperClass=\"fr-sort-help-class\"\n          shouldCancelStart={e =>\n            e.toElement && e.toElement.className === 'fr-tooltip-container'\n          }\n          onSortEnd={this.handleSort}\n        />\n      );\n    }\n  };\n}\n"},"foldIcon.jsx":{path:"./foldIcon",content:"import React from 'react';\n\nconst FoldIcon = ({\n  fold = false,\n  width,\n  height,\n  fill,\n  style = {},\n  ...rest\n}) => (\n  <div\n    style={style}\n    className={fold ? 'fold-icon' : 'fold-icon fold-icon-active'}\n    {...rest}\n  >\n    <svg viewBox=\"0 0 1024 1024\" width={width || 18} height={height || 18}>\n      <path\n        d=\"M942.048 306.176c-12.288-12.288-31.328-13.024-43.008-2.016L529.056 674.112c-15.072 15.872-19.008 15.808-34.816 0L124.288 304.16c-11.68-11.04-30.72-10.272-43.008 2.016-12.512 12.512-13.216 32.032-1.6 43.68L490.624 760.8c5.056 5.056 11.648 7.328 18.464 7.744h5.152c6.816-.448 13.408-2.72 18.464-7.744l410.944-410.944c11.584-11.648 10.88-31.2-1.6-43.68z\"\n        fill={fill || '#3c3c3c'}\n      />\n    </svg>\n  </div>\n);\n\nexport default FoldIcon;\n"},"descList.jsx":{path:"./descList",content:"import React from 'react';\nimport { isHidden } from '../base/isHidden';\nimport { isFunction } from '../base/utils';\n\nconst getEnumValue = (value, enums, enumNames) => {\n  if (Array.isArray(enums) && Array.isArray(enumNames)) {\n    if (typeof value === 'string' || typeof value === 'number') {\n      const count = enums.indexOf(value);\n      if (count > -1) {\n        return enumNames[count];\n      }\n      return value;\n    } else if (Array.isArray(value)) {\n      const result = value.map(v => getEnumValue(value, enums, enumNames));\n      return String(result);\n    }\n    return value;\n  }\n  return value;\n};\n\nconst DescriptionList = ({ schema = {}, value = [], index }) => {\n  const list = getDescription({ schema, value, index })\n    .filter(item => item.title)\n    .slice(0, 3);\n  return (\n    <ul className=\"flex overflow-hidden\" style={{ paddingRight: 45 }}>\n      {list.map((item, i) => {\n        return item.title ? (\n          <li\n            className=\"overflow-hidden truncate\"\n            style={{ width: '33%', paddingRight: 8 }}\n            key={i}\n          >\n            <span className=\"fw5\">{item.title}: </span>\n            <span className=\"truncate\">{item.text}</span>\n          </li>\n        ) : null;\n      })}\n    </ul>\n  );\n};\n\nexport default DescriptionList;\n\n// \u83b7\u5f97title\uff0cvalue\u503clist\nexport const getDescription = ({ schema = {}, value = [], index }) => {\n  const { items = {} } = schema;\n  // \u53ea\u6709\u5f53items\u4e3aobject\u65f6\u624d\u505a\u6536\u8d77\uff08fold\uff09\u5904\u7406\n  if (items.type !== 'object') {\n    return [];\n  }\n  let titles = (items && items.properties) || {};\n  titles = Object.values(titles);\n  let description = (value && value.length && value[index]) || {};\n  const valueList = Object.values(description);\n  const descList = titles.map((t, idx) => {\n    let hidden = t && t['ui:hidden'];\n    // ui:hidden\u4e3a\u5224\u65ad\u5f0f\u65f6\u89e3\u6790 TODO: \u89e3\u6790\u5728\u5916\u90e8\u96c6\u4e2d\u505a\n    if (typeof hidden === 'string' && isFunction(hidden) === false) {\n      hidden = isHidden({ hidden, rootValue: description });\n    }\n    if (hidden) return;\n    const title = t.title;\n    let text = valueList[idx];\n    if (text === null && text === undefined) {\n      text = '';\n    } else if (typeof text === 'boolean') {\n      text = text ? '\u662f' : '\u5426';\n    } else if (typeof text !== 'string' && typeof text !== 'number' && text) {\n      text = '{\u590d\u6742\u7ed3\u6784}';\n    } else if (t.enum && t.enumNames) {\n      text = getEnumValue(text, t.enum, t.enumNames);\n    }\n    return {\n      title,\n      text,\n    };\n  });\n  // \u53bb\u7a7a\n  return descList.filter(d => !!d);\n};\n"},"base/isHidden.js":{path:"../base/isHidden",content:"/**\n * Created by Tw93 on 2019-04-28.\n * \u8868\u8fbe\u5f0f\u5224\u65ad\n */\n\nimport { pope } from 'pope';\nimport { parseString } from './utils';\n\nexport function isDependShow({ formData, dependShow } = {}) {\n  if (formData && dependShow) {\n    try {\n      return !parseString(pope(dependShow, formData)); //eslint-disable-line\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\nexport function isHidden({ hidden, rootValue, formData } = {}) {\n  // hidden \u4e3a\u8868\u8fbe\u5f0f\uff1a\n  if (typeof hidden === 'string') {\n    // \u652f\u6301 && \u548c ||\n    const hasAnd = string => string.indexOf('&&') > -1;\n    const hasOr = string => string.indexOf('||') > -1;\n    let hiddenList = [];\n    if (!hasOr(hidden)) {\n      if (!hasAnd(hidden)) {\n        return calcHidden(hidden, rootValue, formData);\n      } else {\n        hiddenList = hidden.split('&&').map(item => item.trim());\n        return hiddenList.every(item => calcHidden(item, rootValue, formData));\n      }\n    } else {\n      hiddenList = hidden.split('||').map(item => item.trim());\n      if (!hasAnd(hidden)) {\n        return hiddenList.some(item => calcHidden(item, rootValue, formData));\n      } else {\n        return hiddenList.some(item => {\n          if (hasAnd(item)) {\n            const list = item.split('&&').map(item => item.trim());\n            return list.every(x => calcHidden(x, rootValue, formData));\n          } else {\n            return calcHidden(item, rootValue, formData);\n          }\n        });\n      }\n    }\n  }\n  return hidden;\n}\n\n// data = {a: b: {c: 1}}  getExpressionValue(data, 'a.b.c')\nconst getExpressionValue = (formData, expression) => {\n  if (typeof expression !== 'string') return '';\n  const keyList = expression.split('.') || [];\n  if (keyList.length === 0) {\n    return '';\n  }\n  if (keyList.length === 1) {\n    return formData[keyList[0]];\n  }\n  return keyList.reduce((x, y) => {\n    if (x && typeof x === 'object') return x[y];\n    return '';\n  }, formData);\n};\n\n// \u8ba1\u7b97\u5355\u4e2a\u8868\u8fbe\u5f0f\u7684hidden\u503c\nconst calcHidden = (hiddenString, rootValue, formData) => {\n  if (!rootValue || typeof rootValue !== 'object') {\n    return false;\n  }\n  // \u652f\u6301\u56db\u79cd\u57fa\u672c\u8fd0\u7b97\u7b26\n  const operators = ['==', '!=', '>', '<'];\n  try {\n    const op = operators.find(op => hiddenString.indexOf(op) > -1);\n    const [key, value] = hiddenString.split(op).map(item => item.trim());\n    let left = rootValue[key];\n    // feature: \u5141\u8bb8\u4ece formData \u53d6\u503c\n    if (key.substring(0, 9) === 'formData.' && formData) {\n      const subKey = key.substring(9);\n      left = getExpressionValue(formData, subKey);\n    }\n    const right = parseString(value);\n    return parseString(`\"${String(left)}\"${op}\"${String(right)}\"`);\n  } catch (e) {\n    console.error(e);\n  }\n  return false;\n};\n"},"map.jsx":{path:"./map",content:"import React, { useState } from 'react';\nimport { Modal, Drawer } from 'antd';\nimport { isObj } from '../../base/utils';\nimport Map from '../../components/map';\n\nconst MapWithModal = props => {\n  const { options = {}, schema } = props || {};\n  const [show, setShow] = useState(false);\n  const toggle = () => setShow(o => !o);\n  if (options && options.modal) {\n    const config = isObj(options.modal) ? options.modal : {};\n    const { text } = config;\n    return (\n      <div>\n        <a className=\"pointer\" onClick={toggle}>\n          {text && typeof text === 'string' ? '+ ' + text : '+ \u914d\u7f6e'}\n        </a>\n        <Modal\n          title={(schema && schema.title) || '\u5b50\u914d\u7f6e'}\n          visible={show}\n          onCancel={toggle}\n          footer={null}\n          width=\"80%\"\n          {...config}\n          style={{ maxWidth: 800, ...config.style }}\n        >\n          <Map {...props} />\n        </Modal>\n      </div>\n    );\n  }\n  if (options && options.drawer) {\n    const config = isObj(options.drawer) ? options.drawer : {};\n    const { text } = config;\n    return (\n      <div>\n        <a className=\"pointer\" onClick={toggle}>\n          {text && typeof text === 'string' ? '+ ' + text : '+ \u914d\u7f6e'}\n        </a>\n        <Drawer\n          title={(schema && schema.title) || '\u5b50\u914d\u7f6e'}\n          visible={show}\n          onClose={toggle}\n          width=\"80%\"\n          {...config}\n        >\n          <Map {...props} />\n        </Drawer>\n      </div>\n    );\n  }\n  return <Map {...props} />;\n};\n\nexport default MapWithModal;\n"},"components/map.jsx":{path:"../../components/map",content:"import React from 'react';\n\nexport default function map(p) {\n  let className = 'fr-map ';\n  const { options = {} } = p || {};\n  const isModal = options.modal || options.drawer;\n  try {\n    className += isModal ? 'fr-wrapper' : ''; // \u56e0\u4e3amodal\u8df3\u51fafr\u7684dom\u5c42\u7ea7\u4e86\uff0c\u9700\u8981\u91cd\u65b0\u52a0\u4e2a\u9876\u5c42\u7684className\n  } catch (error) {}\n  return (\n    <div className={className}>\n      {Object.keys(p.value).map(name => {\n        return p.getSubField({\n          name,\n          value: p.value[name],\n          onChange(key, val, objValue) {\n            let value = {\n              ...p.value,\n              [key]: val,\n            };\n            // \u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u5141\u8bb8object\u91cc\u7684\u4e00\u4e2a\u5b50\u63a7\u4ef6\u6539\u52a8\u6574\u4e2aobject\u7684\u503c\n            if (objValue) {\n              value = objValue;\n            }\n            if (p.useLogger) {\n              console.group(p.name);\n              console.log(\n                `%c${key}:`,\n                'color: #47B04B; font-weight: 700;',\n                val\n              );\n              console.log(\n                `%c${p.name}:`,\n                'color: #00A7F7; font-weight: 700;',\n                value\n              );\n              console.groupEnd();\n            }\n            p.onChange(p.name, value);\n          },\n          rootValue: p.value,\n        });\n      })}\n    </div>\n  );\n}\n"},"multiSelect.jsx":{path:"./multiSelect",content:"/**\n * Updated by Tw93 on 2019-12-07.\n * \u591a\u9009\u7ec4\u4ef6\n */\n\nimport { Select } from 'antd';\nimport multiSelectHoc from '../../components/multiSelectHoc';\n\nexport default multiSelectHoc(Select);\n"},"components/multiSelectHoc.jsx":{path:"../../components/multiSelectHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u62bd\u79bb\u9ad8\u9636\u591a\u9009\u7ec4\u4ef6\n */\n\nimport React from 'react';\n\nexport default MultiComponent => p => {\n  const { Option } = MultiComponent;\n  const onChange = value => p.onChange(p.name, value);\n  const style = p.invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const { enum: enums, enumNames } = p.schema || {};\n  const _value = p.value && Array.isArray(p.value) ? p.value : [];\n  return (\n    <MultiComponent\n      {...p.options}\n      style={{ width: '100%', ...style }}\n      mode=\"multiple\"\n      disabled={p.disabled || p.readonly}\n      value={_value}\n      onChange={onChange}\n    >\n      {(enums || []).map((val, index) => (\n        <Option value={val} key={index}>\n          <span\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{\n              __html: enumNames ? enumNames[index] : val,\n            }}\n          />\n        </Option>\n      ))}\n    </MultiComponent>\n  );\n};\n"},"number.jsx":{path:"./number",content:"/**\n * Updated by Tw93 on 2019-12-07.\n * \u6570\u5b57\u8f93\u5165\u7ec4\u4ef6\n */\n\nimport { InputNumber } from 'antd';\nimport numberHoc from '../../components/numberHoc';\n\nexport default numberHoc(InputNumber);\n"},"components/numberHoc.jsx":{path:"../../components/numberHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u62bd\u79bb\u6570\u5b57\u8f93\u5165\u7ec4\u4ef6\n */\n\nimport React from 'react';\n\nexport default NumberComponent => p => {\n  const style = p.invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const { max, min, step } = p.schema;\n  let obj = {};\n  if (max || max === 0) {\n    obj = { max };\n  }\n\n  if (min || min === 0) {\n    obj = { ...obj, min };\n  }\n\n  if (step) {\n    obj = { ...obj, step };\n  }\n\n  const onChange = value => {\n    p.onChange(p.name, value);\n  };\n\n  return (\n    <NumberComponent\n      {...obj}\n      style={{ width: '100%', ...style }}\n      disabled={p.disabled || p.readonly}\n      {...p.options}\n      value={p.value}\n      onChange={onChange}\n    />\n  );\n};\n"},"radio.jsx":{path:"./radio",content:"/**\n * Updated by Tw93 on 2019-12-07.\n * \u5355\u9009\u7ec4\u4ef6\n */\n\nimport { Radio } from 'antd';\nimport radioHoc from '../../components/radioHoc';\n\nexport default function radio(p) {\n  const onChange = e => p.onChange(p.name, e.target.value);\n  return radioHoc(p, onChange, Radio);\n}\n"},"components/radioHoc.jsx":{path:"../../components/radioHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u5355\u9009\u8f93\u5165\u7ec4\u4ef6\n */\n\nimport React from 'react';\n\nexport default (p, onChange, RadioComponent) => {\n  const RadioGroup = RadioComponent.Group;\n  const { enum: enums, enumNames } = p.schema || {};\n  return (\n    <RadioGroup\n      disabled={p.disabled || p.readonly}\n      value={p.value}\n      onChange={onChange}\n    >\n      {(enums || [true, false]).map((val, index) => (\n        <RadioComponent value={val} key={index}>\n          <span\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{\n              __html: enumNames ? enumNames[index] : val,\n            }}\n          />\n        </RadioComponent>\n      ))}\n    </RadioGroup>\n  );\n};\n"},"select.jsx":{path:"./select",content:"/**\n * Updated by Tw93 on 2019-12-07.\n * \u9009\u62e9\u7ec4\u4ef6\n */\n\nimport { Select } from 'antd';\nimport selectHoc from '../../components/selectHoc';\n\nexport default selectHoc(Select);\n"},"components/selectHoc.jsx":{path:"../../components/selectHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u9ad8\u9636\u9009\u62e9\u7ec4\u4ef6\n */\n\nimport React from 'react';\n\nexport default SelectComponent => p => {\n  const { Option } = SelectComponent;\n  const onChange = value => p.onChange(p.name, value);\n  const style = p.invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const { enum: enums, enumNames } = p.schema || {};\n  return (\n    <SelectComponent\n      style={{ width: '100%', ...style }}\n      {...p.options}\n      disabled={p.disabled || p.readonly}\n      value={p.value}\n      onChange={onChange}\n    >\n      {(enums || []).map((val, index) => {\n        let option = enumNames ? enumNames[index] : val;\n        const isHtml = typeof option === 'string' && option[0] === '<';\n        if (isHtml) {\n          option = <span dangerouslySetInnerHTML={{ __html: option }} />;\n        }\n        return (\n          <Option value={val} key={index}>\n            {option}\n          </Option>\n        );\n      })}\n    </SelectComponent>\n  );\n};\n"},"slider.jsx":{path:"./slider",content:"/**\n * Updated by Tw93 on 2019-12-07.\n * \u6ed1\u52a8\u7ec4\u4ef6\n */\n\nimport { InputNumber, Slider } from 'antd';\nimport sliderHoc from '../../components/sliderHoc';\n\nexport default sliderHoc(Slider, InputNumber);\n"},"components/sliderHoc.jsx":{path:"../../components/sliderHoc",content:"/**\n * Created by Tw93 on 2019-12-07.\n * \u6ed1\u52a8\u8f93\u5165\u7ec4\u4ef6\n */\n\nimport React from 'react';\n\nexport default (SliderComponent, NumberComponent) => p => {\n  const style = p.invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const { max, min, step } = p.schema;\n  let setting = {};\n  if (max || max === 0) {\n    setting = { max };\n  }\n\n  if (min || min === 0) {\n    setting = { ...setting, min };\n  }\n\n  if (step) {\n    setting = { ...setting, step };\n  }\n\n  const onChange = value => {\n    p.onChange(p.name, value);\n  };\n\n  return (\n    <div className=\"fr-slider\">\n      <SliderComponent\n        style={{ flexGrow: 1, marginRight: 12 }}\n        {...setting}\n        onChange={onChange}\n        value={typeof p.value === 'number' ? p.value : min || 0}\n        disabled={p.disabled || p.readonly}\n      />\n      {p.readonly ? (\n        <span style={{ width: '90px' }}>\n          {p.value === (undefined || '') ? '-' : p.value}\n        </span>\n      ) : (\n        <NumberComponent\n          {...p.options}\n          {...setting}\n          style={{ width: '90px', ...style }}\n          value={p.value}\n          disabled={p.disabled}\n          onChange={onChange}\n        />\n      )}\n    </div>\n  );\n};\n"},"switch.jsx":{path:"./switch",content:"import React from 'react';\nimport { Switch } from 'antd';\n\nexport default function sw(p) {\n  return (\n    <Switch\n      disabled={p.disabled || p.readonly}\n      onChange={checked => p.onChange(p.name, checked)}\n      defaultChecked={p.value}\n    />\n  );\n}\n"},"textarea.jsx":{path:"./textarea",content:"import React from 'react';\nimport { Input } from 'antd';\n\nconst { TextArea } = Input;\n\nexport default function ta(p) {\n  const { options, invalid, schema = {} } = p;\n  const { maxLength } = schema;\n  const style = invalid\n    ? { borderColor: '#ff4d4f', boxShadow: '0 0 0 2px rgba(255,77,79,.2)' }\n    : {};\n  const defaultUi = { rows: 3 };\n  const ui = { ...defaultUi, ...options };\n  const onChange = e => p.onChange(p.name, e.target.value);\n\n  const _value = p.value || '';\n  return (\n    <div style={{ width: '100%', position: 'relative' }}>\n      <TextArea\n        style={style}\n        disabled={p.disabled || p.readonly}\n        value={p.value}\n        {...ui}\n        onChange={onChange}\n      />\n      {maxLength ? (\n        <span\n          style={{\n            fontSize: 12,\n            position: 'absolute',\n            bottom: 5,\n            right: 11,\n            color: _value.length > maxLength ? '#ff4d4f' : '#999',\n          }}\n        >\n          {_value.length + ' / ' + maxLength}\n        </span>\n      ) : null}\n    </div>\n  );\n}\n"},"upload.jsx":{path:"./upload",content:"import React from 'react';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { Upload, message, Button } from 'antd';\n\nexport default function input(p) {\n  const props = {\n    name: 'file',\n    action: p.action,\n    enctype: 'multipart/form-data',\n    withCredentials: true,\n    type: 'file',\n    onChange(info) {\n      if (info.file.status === 'done') {\n        message.success(`${info.file.name} \u4e0a\u4f20\u6210\u529f`);\n        p.onChange(p.name, info.file.response.url);\n      } else if (info.file.status === 'error') {\n        message.error(`${info.file.name} \u4e0a\u4f20\u5931\u8d25`);\n      }\n    },\n    onRemove() {\n      p.onChange(p.name, '');\n    },\n  };\n\n  return (\n    <div className=\"fr-upload-mod\">\n      <Upload {...props} className=\"fr-upload-file\">\n        <Button>\n          <UploadOutlined /> \u4e0a\u4f20\n        </Button>\n      </Upload>\n      {p.value && (\n        <a\n          href={p.value}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"fr-upload-preview\"\n        >\n          \u5df2\u4e0a\u4f20\u5730\u5740\n        </a>\n      )}\n    </div>\n  );\n}\n"},"html.jsx":{path:"./html",content:"import html from '../../components/html';\nexport default html;\n"},"components/html.jsx":{path:"../../components/html",content:"import React from 'react';\n\nexport default function html({ value, schema, ...rest }) {\n  let __html = '';\n  try {\n    __html = value ? value : schema.default;\n    if (typeof __html !== 'string') {\n      __html = '';\n    }\n  } catch (error) {}\n  return <div dangerouslySetInnerHTML={{ __html }} />;\n}\n"},"demo/new-feature/test.json":{path:"../demo/new-feature/test.json",content:'{\n  "schema": {\n    "type": "object",\n    "properties": {\n      "number": {\n        "title": "\u6570\u5b57",\n        "description": "\u6570\u5b57\u8f93\u5165\u6846",\n        "type": "number"\n      },\n      "list": {\n        "title": "\u5bf9\u8c61\u6570\u7ec4",\n        "description": "\u5bf9\u8c61\u6570\u7ec4\u5d4c\u5957\u529f\u80fd",\n        "type": "array",\n        "minItems": 1,\n        "maxItems": 3,\n        "items": {\n          "type": "object",\n          "properties": {\n            "input": {\n              "title": "\u7b80\u5355\u8f93\u5165\u6846",\n              "type": "string"\n            },\n            "required": ["input"]\n          }\n        }\n      }\n    }\n  }\n}\n'}}}),o.a.createElement(l,null)),o.a.createElement("div",{className:"markdown"},o.a.createElement("h2",{id:"072"},o.a.createElement("a",{"aria-hidden":"true",href:"#072"},o.a.createElement("span",{className:"icon icon-link"})),"0.7.2"),o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement("code",null,"maxLength")," \u5c55\u793a\u5b57\u6570\u63d0\u793a"),o.a.createElement("li",null,o.a.createElement("code",null,'"ui:options"/ buttons')," \u652f\u6301\u6240\u6709 antd/fusion \u7684 button \u7684 props"))),o.a.createElement(s.a,Object(r["default"])({source:{jsx:"import React from 'react';\nimport FR from '../demo/FR/index.jsx';\nimport json from '../demo/new-feature/maxLength.json';\n\nexport default () => <FR schema={json} />;"}},{dependencies:{"form-render":"0.8.0"},files:{"demo/FR/index.jsx":{path:"../demo/FR/index.jsx",content:"import React, { useState, useEffect } from 'react';\nimport FormRender from 'form-render/lib/antd';\n// import FormRender from 'form-render/lib/fusion';\n\nconst Demo = ({ schema = {} }) => {\n  const [formData, setFormData] = useState(() => schema.formData);\n  const [valid, setValid] = useState([]);\n  const [readOnly, setReadOnly] = useState(false);\n\n  // useEffect(() => {\n  //   setTimeout(() => setFormData({ AllString: { input: 'abv' } }), 2000);\n  // }, []);\n\n  const onValidate = _valid => {\n    console.log('\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:', _valid);\n    setValid(_valid);\n  };\n\n  // const toggle = () => setReadOnly(o => !o);\n\n  // const submit = () => {\n  //   console.log(valid);\n  //   console.log(formData);\n  // };\n\n  return (\n    <div style={{ maxWidth: 800 }}>\n      {/* <button onClick={toggle}>readOnly</button> */}\n      {/* <button onClick={submit}>click</button> */}\n      <FormRender\n        {...schema}\n        formData={formData}\n        onChange={setFormData}\n        displayType=\"row\"\n        showDescIcon\n        labelWidth={120}\n        onValidate={onValidate}\n        readOnly={readOnly}\n      />\n    </div>\n  );\n};\n\nexport default Demo;\n"},"demo/new-feature/maxLength.json":{path:"../demo/new-feature/maxLength.json",content:'{\n  "schema": {\n    "type": "object",\n    "properties": {\n      "input1": {\n        "title": "\u8f93\u5165\u6846",\n        "type": "string",\n        "maxLength": 12\n      },\n      "textarea1": {\n        "title": "\u6587\u672c\u7f16\u8f91\u6846",\n        "type": "string",\n        "format": "textarea",\n        "maxLength": 24\n      },\n      "listName": {\n        "title": "\u5bf9\u8c61\u6570\u7ec4",\n        "description": "\u5bf9\u8c61\u6570\u7ec4\u5d4c\u5957\u529f\u80fd",\n        "type": "array",\n        "items": {\n          "type": "object",\n          "properties": {\n            "inputName": {\n              "title": "\u7b80\u5355\u8f93\u5165\u6846",\n              "type": "string"\n            }\n          }\n        },\n        "ui:options": {\n          "buttons": [\n            {\n              "text": "\u590d\u5236\u6700\u540e",\n              "icon": "CopyOutlined",\n              "callback": "copyLast",\n              "type": "primary"\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'}}}),o.a.createElement(p,null)),o.a.createElement("div",{className:"markdown"},o.a.createElement("h2",{id:"\u5f39\u5c42\u5c55\u793a"},o.a.createElement("a",{"aria-hidden":"true",href:"#\u5f39\u5c42\u5c55\u793a"},o.a.createElement("span",{className:"icon icon-link"})),"\u5f39\u5c42\u5c55\u793a"),o.a.createElement("p",null,"\u4e00\u822c\u7528\u4e8e\u590d\u6742\u7ed3\u6784, \u652f\u6301 ",o.a.createElement("code",null,"modal")," \u548c ",o.a.createElement("code",null,"drawer"))),o.a.createElement(s.a,Object(r["default"])({source:{jsx:"import React from 'react';\nimport FR from '../demo/FR/index.jsx';\nimport json from '../demo/new-feature/modal.json';\n\nexport default () => <FR schema={json} />;"}},{dependencies:{"form-render":"0.8.0"},files:{"demo/FR/index.jsx":{path:"../demo/FR/index.jsx",content:"import React, { useState, useEffect } from 'react';\nimport FormRender from 'form-render/lib/antd';\n// import FormRender from 'form-render/lib/fusion';\n\nconst Demo = ({ schema = {} }) => {\n  const [formData, setFormData] = useState(() => schema.formData);\n  const [valid, setValid] = useState([]);\n  const [readOnly, setReadOnly] = useState(false);\n\n  // useEffect(() => {\n  //   setTimeout(() => setFormData({ AllString: { input: 'abv' } }), 2000);\n  // }, []);\n\n  const onValidate = _valid => {\n    console.log('\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:', _valid);\n    setValid(_valid);\n  };\n\n  // const toggle = () => setReadOnly(o => !o);\n\n  // const submit = () => {\n  //   console.log(valid);\n  //   console.log(formData);\n  // };\n\n  return (\n    <div style={{ maxWidth: 800 }}>\n      {/* <button onClick={toggle}>readOnly</button> */}\n      {/* <button onClick={submit}>click</button> */}\n      <FormRender\n        {...schema}\n        formData={formData}\n        onChange={setFormData}\n        displayType=\"row\"\n        showDescIcon\n        labelWidth={120}\n        onValidate={onValidate}\n        readOnly={readOnly}\n      />\n    </div>\n  );\n};\n\nexport default Demo;\n"},"demo/new-feature/modal.json":{path:"../demo/new-feature/modal.json",content:'{\n  "schema": {\n    "type": "object",\n    "properties": {\n      "modal": {\n        "title": "\u5f39\u5c42\u9690\u85cf\u90e8\u5206\u914d\u7f6e",\n        "description": "\u76ee\u524d\u652f\u6301modal/drawer",\n        "type": "object",\n        "properties": {\n          "obj1": {\n            "title": "object + modal",\n            "type": "object",\n            "ui:options": {\n              "modal": true\n            },\n            "properties": {\n              "input1": {\n                "title": "\u8f93\u5165\u68461",\n                "type": "string"\n              },\n              "input2": {\n                "title": "\u8f93\u5165\u68462",\n                "type": "string"\n              }\n            }\n          },\n          "list1": {\n            "title": "list + modal",\n            "type": "array",\n            "ui:options": {\n              "modal": {\n                "text": "\u914d\u7f6e\u5b8c\u5168\u53c2\u8003antd/fusion\u6587\u6863",\n                "mask": false,\n                "width": 400\n              }\n            },\n            "items": {\n              "type": "object",\n              "properties": {\n                "input1": {\n                  "title": "\u8f93\u5165\u68461",\n                  "type": "string"\n                },\n                "input2": {\n                  "title": "\u8f93\u5165\u68462",\n                  "type": "string"\n                }\n              }\n            }\n          },\n          "list3": {\n            "title": "list\u5957list",\n            "type": "array",\n            "items": {\n              "type": "object",\n              "properties": {\n                "input1": {\n                  "title": "\u7b80\u5355\u8f93\u5165\u6846",\n                  "type": "string"\n                },\n                "list4": {\n                  "title": "\u6570\u7ec4",\n                  "type": "array",\n                  "items": {\n                    "type": "object",\n                    "properties": {\n                      "input1": {\n                        "title": "\u8f93\u5165\u68461",\n                        "type": "string"\n                      },\n                      "input2": {\n                        "title": "\u8f93\u5165\u68462",\n                        "type": "string"\n                      }\n                    }\n                  },\n                  "ui:options": {\n                    "drawer": true\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'}}}),o.a.createElement(m,null)),o.a.createElement("div",{className:"markdown"},o.a.createElement("h2",{id:"html"},o.a.createElement("a",{"aria-hidden":"true",href:"#html"},o.a.createElement("span",{className:"icon icon-link"})),"html"),o.a.createElement("p",null,"\u7eaf text \u5c55\u793a\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6")),o.a.createElement(s.a,Object(r["default"])({source:{jsx:"import React from 'react';\nimport FR from '../demo/FR';\nimport json from '../demo/new-feature/html.json';\n\nexport default () => <FR schema={json} />;"}},{dependencies:{"form-render":"0.8.0"},files:{"demo/FR/index.jsx":{path:"../demo/FR",content:"import React, { useState, useEffect } from 'react';\nimport FormRender from 'form-render/lib/antd';\n// import FormRender from 'form-render/lib/fusion';\n\nconst Demo = ({ schema = {} }) => {\n  const [formData, setFormData] = useState(() => schema.formData);\n  const [valid, setValid] = useState([]);\n  const [readOnly, setReadOnly] = useState(false);\n\n  // useEffect(() => {\n  //   setTimeout(() => setFormData({ AllString: { input: 'abv' } }), 2000);\n  // }, []);\n\n  const onValidate = _valid => {\n    console.log('\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:', _valid);\n    setValid(_valid);\n  };\n\n  // const toggle = () => setReadOnly(o => !o);\n\n  // const submit = () => {\n  //   console.log(valid);\n  //   console.log(formData);\n  // };\n\n  return (\n    <div style={{ maxWidth: 800 }}>\n      {/* <button onClick={toggle}>readOnly</button> */}\n      {/* <button onClick={submit}>click</button> */}\n      <FormRender\n        {...schema}\n        formData={formData}\n        onChange={setFormData}\n        displayType=\"row\"\n        showDescIcon\n        labelWidth={120}\n        onValidate={onValidate}\n        readOnly={readOnly}\n      />\n    </div>\n  );\n};\n\nexport default Demo;\n"},"demo/new-feature/html.json":{path:"../demo/new-feature/html.json",content:'{\n  "schema": {\n    "type": "object",\n    "properties": {\n      "html": {\n        "title": "html\u5143\u7d20\u7684\u4f7f\u7528",\n        "type": "object",\n        "properties": {\n          "html1": {\n            "title": "\u7eaf\u5b57\u7b26\u4e32",\n            "type": "html",\n            "default": "hello world"\n          },\n          "html2": {\n            "title": "\u4f7f\u7528formData",\n            "type": "html",\n            "default": "hello world"\n          },\n          "input": {\n            "title": "\u653e\u5728\u5c3e\u90e8",\n            "type": "string",\n            "ui:width": "70%"\n          },\n          "html3": {\n            "type": "html",\n            "default": "<a>\u6ce8\u610f\u4e8b\u9879</a>",\n            "ui:width": "30%"\n          }\n        }\n      }\n    }\n  },\n  "formData": {\n    "html": {\n      "html2": "hello from <span style=\'color: red\'>formData</span>!"\n    }\n  }\n}\n'}}}),o.a.createElement(d,null)))}},C2bj:function(n,e,t){"use strict";t.r(e);var r=t("0Owb"),a=t("tJVT"),o=t("q1tI"),i=t.n(o),s=t("KwRa"),l=n=>{var e=n.schema,t=void 0===e?{}:e,l=Object(o["useState"])(()=>t.formData),p=Object(a["default"])(l,2),m=p[0],d=p[1],c=Object(o["useState"])([]),f=Object(a["default"])(c,2),u=(f[0],f[1]),h=Object(o["useState"])(!1),g=Object(a["default"])(h,2),b=g[0],w=(g[1],n=>{console.log("\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:",n),u(n)});return i.a.createElement("div",{style:{maxWidth:800}},i.a.createElement(s["default"],Object(r["default"])({},t,{formData:m,onChange:d,displayType:"row",showDescIcon:!0,labelWidth:120,onValidate:w,readOnly:b})))};e["default"]=l},"Hx+y":function(n){n.exports=JSON.parse('{"schema":{"type":"object","properties":{"html":{"title":"html\u5143\u7d20\u7684\u4f7f\u7528","type":"object","properties":{"html1":{"title":"\u7eaf\u5b57\u7b26\u4e32","type":"html","default":"hello world"},"html2":{"title":"\u4f7f\u7528formData","type":"html","default":"hello world"},"input":{"title":"\u653e\u5728\u5c3e\u90e8","type":"string","ui:width":"70%"},"html3":{"type":"html","default":"<a>\u6ce8\u610f\u4e8b\u9879</a>","ui:width":"30%"}}}}},"formData":{"html":{"html2":"hello from <span style=\'color: red\'>formData</span>!"}}}')},"K+nK":function(n,e){function t(n){return n&&n.__esModule?n:{default:n}}n.exports=t},Q4DU:function(n){n.exports=JSON.parse('{"schema":{"type":"object","properties":{"input1":{"title":"\u8f93\u5165\u6846","type":"string","maxLength":12},"textarea1":{"title":"\u6587\u672c\u7f16\u8f91\u6846","type":"string","format":"textarea","maxLength":24},"listName":{"title":"\u5bf9\u8c61\u6570\u7ec4","description":"\u5bf9\u8c61\u6570\u7ec4\u5d4c\u5957\u529f\u80fd","type":"array","items":{"type":"object","properties":{"inputName":{"title":"\u7b80\u5355\u8f93\u5165\u6846","type":"string"}}},"ui:options":{"buttons":[{"text":"\u590d\u5236\u6700\u540e","icon":"CopyOutlined","callback":"copyLast","type":"primary"}]}}}}}')},mgmY:function(n){n.exports=JSON.parse('{"schema":{"type":"object","properties":{"modal":{"title":"\u5f39\u5c42\u9690\u85cf\u90e8\u5206\u914d\u7f6e","description":"\u76ee\u524d\u652f\u6301modal/drawer","type":"object","properties":{"obj1":{"title":"object + modal","type":"object","ui:options":{"modal":true},"properties":{"input1":{"title":"\u8f93\u5165\u68461","type":"string"},"input2":{"title":"\u8f93\u5165\u68462","type":"string"}}},"list1":{"title":"list + modal","type":"array","ui:options":{"modal":{"text":"\u914d\u7f6e\u5b8c\u5168\u53c2\u8003antd/fusion\u6587\u6863","mask":false,"width":400}},"items":{"type":"object","properties":{"input1":{"title":"\u8f93\u5165\u68461","type":"string"},"input2":{"title":"\u8f93\u5165\u68462","type":"string"}}}},"list3":{"title":"list\u5957list","type":"array","items":{"type":"object","properties":{"input1":{"title":"\u7b80\u5355\u8f93\u5165\u6846","type":"string"},"list4":{"title":"\u6570\u7ec4","type":"array","items":{"type":"object","properties":{"input1":{"title":"\u8f93\u5165\u68461","type":"string"},"input2":{"title":"\u8f93\u5165\u68462","type":"string"}}},"ui:options":{"drawer":true}}}}}}}}}}')},wl8c:function(n,e,t){"use strict";t.r(e);t("bAY4");var r=t("4IMT"),a=t.n(r),o=t("0Owb"),i=t("tJVT"),s=t("q1tI"),l=t.n(s),p=t("KwRa"),m=n=>{var e=n.schema,t=void 0===e?{}:e,r=Object(s["useState"])(()=>t.formData),m=Object(i["default"])(r,2),d=m[0],c=m[1],f=Object(s["useState"])([]),u=Object(i["default"])(f,2),h=u[0],g=u[1],b=Object(s["useState"])(!1),w=Object(i["default"])(b,2),y=w[0],x=w[1],v=n=>{console.log("\u6ca1\u6709\u901a\u8fc7\u7684\u6821\u9a8c:",n),g(n)},k=()=>{x(!0),console.log(h,d),h.length>0||alert(JSON.stringify(d,null,2))};return l.a.createElement("div",{style:{maxWidth:800}},l.a.createElement(p["default"],Object(o["default"])({},t,{formData:d,onChange:c,displayType:"row",showDescIcon:!0,labelWidth:120,onValidate:v,showValidate:y})),l.a.createElement(a.a,{type:"primary",onClick:k},"\u63d0\u4ea4"))};e["default"]=m},"yl+k":function(n){n.exports=JSON.parse('{"schema":{"type":"object","properties":{"number":{"title":"\u6570\u5b57","description":"\u6570\u5b57\u8f93\u5165\u6846","type":"number"},"list":{"title":"\u5bf9\u8c61\u6570\u7ec4","description":"\u5bf9\u8c61\u6570\u7ec4\u5d4c\u5957\u529f\u80fd","type":"array","minItems":1,"maxItems":3,"items":{"type":"object","properties":{"input":{"title":"\u7b80\u5355\u8f93\u5165\u6846","type":"string"},"required":["input"]}}}}}}')}}]);